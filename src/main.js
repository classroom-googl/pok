;;function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,a){var n=_superPropBase(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:a):i.value}},_get.apply(this,arguments)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _createForOfIteratorHelper(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,r=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){r=!0,o=t},f:function(){try{s||null==a.return||a.return()}finally{if(r)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var a,n=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var pbawp,game;function setupPopUpWindowAnalytics(t){if(t){var e=t.document.querySelector("#container > div:nth-child(4) > div > a:nth-child(1) > img");e&&e.addEventListener("click",(function(){ga("send","event","Game","Share Video Facebook","Pokémon Black and Blue - Share Video Facebook")}));var a=t.document.querySelector("#container > div:nth-child(4) > div > a:nth-child(2) > img");a&&a.addEventListener("click",(function(){ga("send","event","Game","Share Video Twitter","Pokémon Black and Blue - Share Video Twitter")}));var n=t.document.querySelector("#container > p:nth-child(3) > a:nth-child(4)");n&&n.addEventListener("click",(function(){ga("send","event","Game","Bonus Wallpaper Regular","Pokémon Black and Blue - Bonus Wallpaper Regular")}));var i=t.document.querySelector("#container > p:nth-child(3) > a:nth-child(5)");i&&i.addEventListener("click",(function(){ga("send","event","Game","Bonus Wallpaper Wide","Pokémon Black and Blue - Bonus Wallpaper Wide")}));var o=t.document.querySelector("#container > p:nth-child(3) > a");o&&o.addEventListener("click",(function(){ga("send","event","Game","Bonus Trading Cards","Pokémon Black and Blue - Bonus Trading Cards")}))}}function isEmpty(t){return!(null!=t&&("string"!=typeof t||t.length>0))}function toGlobal(t,e){for(var a=e?{x:e.x,y:e.y}:{x:0,y:0},n=t;n;)a.x*=n.scaleX,a.y*=n.scaleY,a.x+=n.x,a.y+=n.y,n=n.parentContainer;return a}function DetectPhaserRenderMode(){return Phaser.WEBGL}function delayedCall(t,e,a,n){var i=game.scene.getAt(0);return i?i.time.delayedCall(t,e,a,n):setTimeout(e,t)}!function(t){var e=function(e){_inherits(n,Phaser.Game);var a=_createSuper(n);function n(){var e;_classCallCheck(this,n);var i={type:DetectPhaserRenderMode(),width:n.CANVAS_WIDTH,height:n.CANVAS_HEIGHT,scale:{mode:FitScaleManager.detectBestScaleMode(),autoCenter:Phaser.Scale.CENTER_BOTH},transparent:!1,scene:{create:function(){e.scene.add("Boot",t.scene.Boot,!0)}}};return e=a.call(this,i)}return _createClass(n)}();e.CANVAS_WIDTH=600,e.CANVAS_HEIGHT=500,t.App=e}(pbawp||(pbawp={})),window.onload=function(){game=new pbawp.App};var FitScaleManager=function(){function t(e){var a=this;_classCallCheck(this,t),this.doResize=function(){var t=a.calculateScale(),e=a.phaserScaleManager.width*t,n=a.phaserScaleManager.height*t;a.canvasStyle.width=e+"px",a.canvasStyle.height=n+"px",a.canvasStyle.marginLeft=(window.innerWidth-e)/2+"px",a.canvasStyle.marginTop=(window.innerHeight-n)/2+"px"},this.game=e,this.canvasStyle=this.game.canvas.style,this.phaserScaleManager=this.game.scale}return _createClass(t,[{key:"setup",value:function(){this.phaserScaleManager.addListener(Phaser.Scale.Events.RESIZE,this.onResize,this),this.overridePhaserTransformMethods(),this.onResize()}},{key:"calculateScale",value:function(){return game.scale.scaleMode==Phaser.Scale.NONE?1:Math.min(window.innerWidth/this.phaserScaleManager.width,window.innerHeight/this.phaserScaleManager.height)}},{key:"overridePhaserTransformMethods",value:function(){var t=this;this.game.scale.transformX=function(e){return(e-parseInt(t.canvasStyle.marginLeft.split("px")[0]))/t.calculateScale()},this.game.scale.transformY=function(e){return(e-parseInt(t.canvasStyle.marginTop.split("px")[0]))/t.calculateScale()}}},{key:"onResize",value:function(){setTimeout(this.doResize,t.RESIZE_DELAY)}}],[{key:"detectBestScaleMode",value:function(){return Phaser.Scale.FIT}}]),t}(),pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp,pbawp;FitScaleManager.RESIZE_DELAY=500,function(t){!function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Container);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t)).background=new Phaser.GameObjects.Image(n.scene,0,0,"ui-atlas","_AttackButton_background0000"),n.add(n.background),n.elementSymbol=new Phaser.GameObjects.Image(n.scene,-41,10,"ui-atlas","elementSymbol0000"),n.add(n.elementSymbol),n.hoverImage=new Phaser.GameObjects.Image(n.scene,0,0,"ui-atlas","_AttackButton_hoverImage0000"),n.add(n.hoverImage),n.moveName=n.scene.add.text(-50,-18,"Thunder Shock",{fontFamily:"Agency FB",fontSize:18,color:"#FFFFFF",align:"left"}),n.add(n.moveName),n.ppAmount=n.scene.add.text(15,2,"25/25",{fontFamily:"Agency FB",fontSize:10,color:"#FFFFFF",align:"left"}),n.add(n.ppAmount),n.ppText=n.scene.add.text(1,2,"PP",{fontFamily:"Agency FB",fontSize:10,color:"#FFFFFF",align:"left"}),n.add(n.ppText),n}return _createClass(a,[{key:"backgroundGotoAndStop",value:function(t){this.background.scaleX="topLeft"==t||"bottomRight"==t?1:-1}},{key:"backgroundButtonGotoAndStop",value:function(t){this.background.setFrame("_AttackButton_background"+{normalOut:"0000",normalOver:"0009",normalDown:"0019",petaOut:"0029",petaOver:"0039",petaDown:"0049",electricOut:"0059",electricOver:"0069",electricDown:"0079",grassOut:"0089",grassOver:"0099",grassDown:"0109",fireOut:"0119",fireOver:"0129",fireDown:"0139",waterOut:"0149",waterOver:"0159",waterDown:"0169"}[t])}},{key:"elementSymbolGotoAndStop",value:function(t){this.elementSymbol.setFrame("elementSymbol"+{normal:"0000",peta:"0009",electric:"0019",fire:"0029",water:"0039",grass:"0049"}[t])}},{key:"hoverImageGotoAndStop",value:function(t){this.hoverImage.setFrame("_AttackButton_hoverImage"+{electric:"0000",peta:"0009",normal:"0019",grass:"0029",fire:"0039",water:"0049"}[t])}},{key:"gotoAndStop",value:function(t){"disabled"==t?(this.elementSymbol.alpha=.5,this.background.alpha=.5):(this.elementSymbol.alpha=1,this.background.alpha=1)}}]),a}();t._AttackButton=e}(t.fla||(t.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).background=i.scene.add.image(0,0,"ui-atlas","_BattleManager_background0000").setOrigin(0,0),i.add(i.background),i.background.gotoAndStop=function(t){i.background.setFrame("_BattleManager_background"+{stadium:"0000",grass:"0009",desert:"0019",night:"0029"}[t])},i.opponentBattleInfo=new t._OpponentBattleInfo(i.scene),i.opponentBattleInfo.setPosition(130,47),i.add(i.opponentBattleInfo),i.playerBattleInfo=new t._PlayerBattleInfo(i.scene),i.playerBattleInfo.setPosition(464,354),i.add(i.playerBattleInfo),i.opponent=new Phaser.GameObjects.Container(i.scene),i.opponent.setPosition(0,0),i.add(i.opponent),i.player=new Phaser.GameObjects.Container(i.scene),i.player.setPosition(0,0),i.add(i.player),i.opponentPokemon=new Phaser.GameObjects.Container(i.scene),i.opponentPokemon.setPosition(135,15),i.add(i.opponentPokemon),i.opponentMask=new Phaser.GameObjects.Graphics(i.scene),i.opponentMask.setPosition(0,-300),i.opponentMask.fillStyle(16777215,1),i.opponentMask.fillRect(0,0,600,270),i.opponent.setMask(i.opponentMask.createGeometryMask()),i.playerMask=new Phaser.GameObjects.Graphics(i.scene),i.playerMask.setPosition(600,-260),i.playerMask.fillStyle(16777215,1),i.playerMask.fillRect(0,0,600,490),i.player.setMask(i.playerMask.createGeometryMask()),i.dialogBox=new t._DialogBox(i.scene),i.dialogBox.setPosition(6,379),i.add(i.dialogBox),i.advanceDialogButton=i.scene.add.image(-5,360,"ui-atlas","advanceDialogButton0000").setOrigin(0,0),i.add(i.advanceDialogButton),i}return _createClass(n)}();t._BattleManager=e}(t.fla||(t.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;_classCallCheck(this,n),i=a.call(this,e);var o=new Phaser.GameObjects.Image(i.scene,0,0,"ui-atlas","_CreditsBG0000");return o.setOrigin(0,0),i.add(o),i.backButton=new t.util.BasicLabeledButton(i.scene,300,454,"ui-atlas","GO!"),i.add(i.backButton),i}return _createClass(n)}();e._Credits=a}(e.fla||(e.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(a){_inherits(i,Phaser.GameObjects.Container);var n=_createSuper(i);function i(a){var o;_classCallCheck(this,i),(o=n.call(this,a)).dialogBackground=new Phaser.GameObjects.Image(o.scene,294,56,"ui-atlas","dialogBackground0000"),o.add(o.dialogBackground),o.dialogArrow=new Phaser.GameObjects.Container(o.scene,541,79),o.add(o.dialogArrow);var s=new Phaser.GameObjects.Image(o.scene,0,0,"ui-atlas","arrow0000");return o.dialogArrow.add(s),o.dialogArrow.arrow=s,o.scene.time.addEvent({delay:550,callback:function(){s.alpha=1==s.alpha?0:1},loop:!0}),o.dialogText=o.scene.add.text(30,19,"",{fontFamily:"Banda Regular",fontSize:17,color:"#FFFFFF",align:"left"}),o.add(o.dialogText),o.dialogText.setWordWrapWidth(504),o.backButton=new t.util.BasicButton(o.scene,540,330,"ui-atlas","backButton0000","backButton0001","backButton0002"),o.add(o.backButton),o.continueButton=new t.util.BasicLabeledButton(o.scene,267,619,"ui-atlas","CONTINUE"),o.add(o.continueButton),o.pokemonName=o.scene.add.text(300,449,"",{fontFamily:"Banda Regular",fontSize:22,color:"#FFFFFF",align:"center"}),o.add(o.pokemonName),o.pokemonName.setOrigin(.5,0),o.pokemonName.setWordWrapWidth(561),o.sendInButton=new t.util.BasicLabeledButton(o.scene,172,515,"ui-atlas","SEND IN"),o.add(o.sendInButton),o.statsButton=new t.util.BasicLabeledButton(o.scene,172,515,"ui-atlas","SUMMARY"),o.add(o.statsButton),o.pokemonButton1=new e._PokemonSelectButton(o.scene),o.pokemonButton1.setPosition(659,518),o.add(o.pokemonButton1),o.pokemonButton2=new e._PokemonSelectButton(o.scene),o.pokemonButton2.setPosition(659,588),o.add(o.pokemonButton2),o.pokemonButton3=new e._PokemonSelectButton(o.scene),o.pokemonButton3.setPosition(949,518),o.add(o.pokemonButton3),o.pokemonButton4=new e._PokemonSelectButton(o.scene),o.pokemonButton4.setPosition(949,588),o.add(o.pokemonButton4),o.battleButton=new t.util.BasicLabeledButton(o.scene,280,549,"ui-atlas","BATTLE"),o.add(o.battleButton),o.yesButton=new t.util.BasicLabeledButton(o.scene,187,267,"ui-atlas","YES"),o.add(o.yesButton),o.noButton=new t.util.BasicLabeledButton(o.scene,385,267,"ui-atlas","NO"),o.add(o.noButton),o.skipButton=new t.util.BasicLabeledButton(o.scene,196,482,"ui-atlas","SKIP"),o.add(o.skipButton),o.watchButton=new t.util.BasicLabeledButton(o.scene,363,482,"ui-atlas","VIEW"),o.add(o.watchButton),o.ignoreButton=new t.util.BasicLabeledButton(o.scene,187,417,"ui-atlas","IGNORE"),o.add(o.ignoreButton),o.openButton=new t.util.BasicLabeledButton(o.scene,365,417,"ui-atlas","OPEN"),o.add(o.openButton),o._underline=new Phaser.GameObjects.Image(o.scene,303,42,"ui-atlas","_underline0000"),o._underline.setOrigin(0,0),o._underline.visible=!1,o.add(o._underline),o.submitButton=new t.util.BasicLabeledButton(o.scene,365,417,"ui-atlas","SUBMIT"),o.add(o.submitButton),o.newPokemonName=new e._NamePokemonTextField(o.scene),o.newPokemonName.setPosition(103,418),o.add(o.newPokemonName),o.fightButton=new t.util.BasicButton(o.scene,330,215,"ui-atlas","fightButton0000","fightButton0001","fightButton0002"),o.add(o.fightButton),o.pokemonButton=new t.util.BasicButton(o.scene,330,254,"ui-atlas","pokemonButton0000","pokemonButton0001","pokemonButton0002"),o.add(o.pokemonButton),o.attackButton1=new e._AttackButton(o.scene),o.attackButton1.setPosition(20,299),o.add(o.attackButton1),o.attackButton2=new e._AttackButton(o.scene),o.attackButton2.setPosition(20,349),o.add(o.attackButton2),o.attackButton4=new e._AttackButton(o.scene),o.attackButton4.setPosition(310,349),o.add(o.attackButton4),o.attackButton3=new e._AttackButton(o.scene),o.attackButton3.setPosition(310,299),o.add(o.attackButton3),o}return _createClass(i,[{key:"dialogBackgroundGotoAndStop",value:function(t){this.dialogBackground.setFrame("dialogBackground"+{full:"0000",half:"0009",speechBubble:"0019",map:"0029"}[t])}},{key:"dialogArrowGotoAndStop",value:function(t){this.dialogArrow.visible="start"==t}},{key:"dialogArrowArrowGotoAndStop",value:function(t){"white"==t?this.dialogArrow.arrow.setFrame("arrow0000"):"black"==t&&this.dialogArrow.arrow.setFrame("arrow0009")}},{key:"gotoAndStop",value:function(t){"dialogOnly"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,79),this.dialogText.setPosition(30,19),this.dialogText.setWordWrapWidth(504),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(540,330),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,449),this.sendInButton.setPosition(172,515),this.statsButton.setPosition(382,515),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(280,549),this.yesButton.setPosition(187,267),this.noButton.setPosition(385,267),this.skipButton.setPosition(196,482),this.watchButton.setPosition(363,482),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(120,299),this.attackButton2.setPosition(130,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299)):"mainMenu"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,79),this.dialogText.setPosition(30,19),this.dialogText.setWordWrapWidth(200),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(540,330),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,449),this.sendInButton.setPosition(172,515),this.statsButton.setPosition(382,515),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(280,549),this.yesButton.setPosition(187,267),this.noButton.setPosition(385,267),this.skipButton.setPosition(196,482),this.watchButton.setPosition(363,482),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(421,86),this.fightButton.setPosition(421,29),this.attackButton1.setPosition(120,299),this.attackButton2.setPosition(130,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299)):"fight"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,79),this.dialogText.setPosition(30,19),this.dialogText.setWordWrapWidth(200),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(578,85),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,449),this.sendInButton.setPosition(172,515),this.statsButton.setPosition(382,515),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(280,549),this.yesButton.setPosition(187,267),this.noButton.setPosition(385,267),this.skipButton.setPosition(196,482),this.watchButton.setPosition(363,482),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(355,28),this.attackButton2.setPosition(355,84),this.attackButton4.setPosition(492,84),this.attackButton3.setPosition(492,28)):"pokemonGet"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,79),this.dialogText.setPosition(30,19),this.dialogText.setWordWrapWidth(504),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(548,345),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,449),this.sendInButton.setPosition(172,515),this.statsButton.setPosition(382,515),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(280,549),this.yesButton.setPosition(187,267),this.noButton.setPosition(385,267),this.skipButton.setPosition(196,482),this.watchButton.setPosition(363,482),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!0,this.newPokemonName.setPosition(300,20),this.submitButton.setPosition(289,80),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(20,299),this.attackButton2.setPosition(20,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299)):"mapDialog"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(543,95),this.dialogText.setPosition(18,36),this.dialogText.setWordWrapWidth(534),this.dialogText.setColor("#000000"),this.backButton.setPosition(548,345),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,449),this.sendInButton.setPosition(172,515),this.statsButton.setPosition(382,515),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(280,549),this.yesButton.setPosition(187,267),this.noButton.setPosition(385,267),this.skipButton.setPosition(196,482),this.watchButton.setPosition(363,482),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(20,299),this.attackButton2.setPosition(20,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299)):"mapInfo"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,94),this.dialogText.setPosition(30,8),this.dialogText.setWordWrapWidth(504),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(548,345),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,449),this.sendInButton.setPosition(172,515),this.statsButton.setPosition(382,515),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(280,549),this.yesButton.setPosition(187,267),this.noButton.setPosition(385,267),this.skipButton.setPosition(196,482),this.watchButton.setPosition(363,482),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(20,299),this.attackButton2.setPosition(20,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299)):"treasureFind"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,94),this.dialogText.setPosition(30,8),this.dialogText.setWordWrapWidth(515),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(548,345),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,449),this.sendInButton.setPosition(172,515),this.statsButton.setPosition(382,515),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(280,549),this.yesButton.setPosition(187,267),this.noButton.setPosition(385,267),this.skipButton.setPosition(196,482),this.watchButton.setPosition(363,482),this.ignoreButton.setPosition(187,77),this.openButton.setPosition(385,77),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(20,299),this.attackButton2.setPosition(20,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299)):"treasureOpen"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,94),this.dialogText.setPosition(30,8),this.dialogText.setWordWrapWidth(515),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(548,345),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,449),this.sendInButton.setPosition(172,515),this.statsButton.setPosition(382,515),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(280,549),this.yesButton.setPosition(187,267),this.noButton.setPosition(385,267),this.skipButton.setPosition(187,77),this.watchButton.setPosition(385,77),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(20,299),this.attackButton2.setPosition(20,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299)):"treasureAreYouSure"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,94),this.dialogText.setPosition(30,8),this.dialogText.setWordWrapWidth(515),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(548,345),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,449),this.sendInButton.setPosition(172,515),this.statsButton.setPosition(382,515),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(280,549),this.yesButton.setPosition(187,77),this.noButton.setPosition(385,77),this.skipButton.setPosition(187,337),this.watchButton.setPosition(385,337),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(20,299),this.attackButton2.setPosition(20,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299)):"mapBattle"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,94),this.dialogText.setPosition(30,8),this.dialogText.setWordWrapWidth(515),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(548,345),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,449),this.sendInButton.setPosition(172,515),this.statsButton.setPosition(382,515),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(294,77),this.yesButton.setPosition(187,307),this.noButton.setPosition(385,307),this.skipButton.setPosition(187,337),this.watchButton.setPosition(385,337),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(20,299),this.attackButton2.setPosition(20,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299)):"switchPokemon"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,94),this.dialogText.setPosition(30,403),this.dialogText.setWordWrapWidth(504),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(578,85),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,449),this.sendInButton.setPosition(172,515),this.statsButton.setPosition(382,515),this.pokemonButton1.setPosition(140,30),this.pokemonButton2.setPosition(140,85),this.pokemonButton3.setPosition(420,30),this.pokemonButton4.setPosition(420,85),this.battleButton.setPosition(294,519),this.yesButton.setPosition(187,307),this.noButton.setPosition(385,307),this.skipButton.setPosition(187,337),this.watchButton.setPosition(385,337),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(20,299),this.attackButton2.setPosition(20,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299)):"confirmPokemon"==t?(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,94),this.dialogText.setPosition(30,403),this.dialogText.setWordWrapWidth(504),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(553,77),this.continueButton.setPosition(269,619),this.pokemonName.setPosition(300,9),this.sendInButton.setPosition(172,75),this.statsButton.setPosition(382,75),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(294,519),this.yesButton.setPosition(187,307),this.noButton.setPosition(385,307),this.skipButton.setPosition(187,337),this.watchButton.setPosition(385,337),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(20,299),this.attackButton2.setPosition(20,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299)):"treasureDone"==t&&(this.dialogBackground.setPosition(295,56),this.dialogArrow.setPosition(541,94),this.dialogText.setPosition(30,403),this.dialogText.setWordWrapWidth(504),this.dialogText.setColor("#FFFFFF"),this.backButton.setPosition(578,265),this.continueButton.setPosition(294,77),this.pokemonName.setPosition(300,319),this.sendInButton.setPosition(172,385),this.statsButton.setPosition(382,385),this.pokemonButton1.setPosition(659,518),this.pokemonButton2.setPosition(659,588),this.pokemonButton3.setPosition(949,518),this.pokemonButton4.setPosition(949,588),this.battleButton.setPosition(294,519),this.yesButton.setPosition(187,307),this.noButton.setPosition(385,307),this.skipButton.setPosition(187,337),this.watchButton.setPosition(385,337),this.ignoreButton.setPosition(187,417),this.openButton.setPosition(365,417),this._underline.visible=!1,this.newPokemonName.setPosition(103,418),this.submitButton.setPosition(429,420),this.pokemonButton.setPosition(330,254),this.fightButton.setPosition(330,215),this.attackButton1.setPosition(20,299),this.attackButton2.setPosition(20,349),this.attackButton4.setPosition(310,349),this.attackButton3.setPosition(310,299))}}]),i}();e._DialogBox=a}(e.fla||(e.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Container);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t)).skipButton=new Phaser.GameObjects.Image(n.scene,0,0,"ui-atlas","_GameAlmostWin_0000"),n.skipButton.setOrigin(0,0),n.add(n.skipButton),n}return _createClass(a)}();t._GameAlmostWin=e}(t.fla||(t.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).bg=new Phaser.GameObjects.Graphics(i.scene),i.bg.fillStyle(0,1),i.bg.fillRect(0,0,game.scale.width,game.scale.height),i.add(i.bg),i.continueButton=new t.util.BasicLabeledButton(i.scene,200,394,"ui-atlas","CONTINUE"),i.add(i.continueButton),i.treasureButton=new t.util.BasicLabeledButton(i.scene,402,394,"ui-atlas","TREASURE"),i.add(i.treasureButton),i.quitButton=new t.util.BasicLabeledButton(i.scene,300,458,"ui-atlas","QUIT"),i.add(i.quitButton),i.noButton=new t.util.BasicLabeledButton(i.scene,402,458,"ui-atlas","NO"),i.add(i.noButton),i.yesButton=new t.util.BasicLabeledButton(i.scene,200,458,"ui-atlas","YES"),i.add(i.yesButton),i.gameOverText=i.scene.add.text(game.scale.width/2,44,"GAME OVER",{fontFamily:"Agency FB Bold",fontSize:60,color:"#FFFFFF",align:"center"}),i.gameOverText.setOrigin(.5,.5),i.add(i.gameOverText),i.gameOver1=i.scene.add.text(65,133,"You have been defeated by the ruthless Trainer.\n\nSeek sanctuary in the nearest Pokémon Center, where you can recuperate before making another valiant attempt to take your message of compassion and respect toward all Pokémon to the World!",{fontFamily:"Banda Regular",fontSize:23,color:"#FFFFFF",align:"center"}),i.add(i.gameOver1),i.gameOver1.setWordWrapWidth(470),i.areYouSureText=i.scene.add.text(game.scale.width/2,368,"ARE YOU SURE?",{fontFamily:"Agency FB Bold",fontSize:35,color:"#FFFFFF",align:"center"}),i.areYouSureText.setOrigin(.5,0),i.add(i.areYouSureText),i.gameOverMask=new Phaser.GameObjects.Graphics(i.scene),i.gameOverMask.setPosition(0,-47),i.gameOverMask.fillStyle(16777215,1),i.gameOverMask.fillRect(0,0,600,181),i.gameOver1.setMask(i.gameOverMask.createGeometryMask()),i}return _createClass(n)}();e._GameOver=a}(e.fla||(e.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).add(i.scene.add.image(0,0,"ui-atlas","_GameWinBG0000").setOrigin(0,0)),i.creditsButton=new t.util.BasicLabeledButton(i.scene,83,36,"ui-atlas","CREDITS"),i.creditsButton.setScale(148/183),i.add(i.creditsButton),i.playAgainButton=new t.util.BasicLabeledButton(i.scene,103,453,"ui-atlas","PLAY AGAIN"),i.add(i.playAgainButton),i.shareButton=new t.util.BasicLabeledButton(i.scene,300,453,"ui-atlas","SHARE VIDEO"),i.add(i.shareButton),i.treasureButton=new t.util.BasicLabeledButton(i.scene,495,453,"ui-atlas","TREASURE"),i.add(i.treasureButton),i.congratulationsText=i.scene.add.text(game.scale.width/2,195,"CONGRATULATIONS!\nYOU'VE WON!",{fontFamily:"Junegull-Regular",fontSize:28,color:"#FFFFFF",align:"center",stroke:"#35770D",strokeThickness:6}),i.congratulationsText.setWordWrapWidth(250),i.congratulationsText.setOrigin(.5,.5),i.add(i.congratulationsText),i.winText=i.scene.add.text(game.scale.width/2,243,"YOU'VE CRUSHED THE TRAINERS' RESISTANCE AND HAVE SUCCEEDED IN GIVING THEM A HIGHER CALLING! NOW SHARE THE MESSAGE TO CONTINUE HELPING OTHERS, AND REMEMBER: THERE'S NO PLACE IN THIS\nWORLD FOR THE MISTREATMENT\nAND EXPLOITATION OF POKÉMON!",{fontFamily:"Junegull-Regular",fontSize:23,color:"#FEEB60",align:"center",stroke:"#35770D",strokeThickness:6}),i.winText.setOrigin(.5,0),i.add(i.winText),i.winText.setWordWrapWidth(578),i.winTextMask=new Phaser.GameObjects.Graphics(i.scene),i.winTextMask.setPosition(i.winText.x,79),i.winTextMask.fillStyle(0,1),i.winTextMask.fillRect(-300,0,600,200),i.winText.setMask(i.winTextMask.createGeometryMask()),i}return _createClass(n)}();e._GameWin=a}(e.fla||(e.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Image);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t,0,0,"ui-atlas","_HealthBar_green0000")).setOrigin(0,.5),n}return _createClass(a,[{key:"gotoAndStop",value:function(t){this.setFrame("_HealthBar_"+t+"0000")}}]),a}();t._HealthBar=e}(t.fla||(t.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).add(i.bg=i.scene.add.image(0,0,"ui-atlas","_Help_bg0000").setOrigin(0,0)),i.titleText=i.scene.add.text(game.scale.width/2,110,"HOW TO PLAY",{fontFamily:"Agency FB Bold",fontSize:42,color:"#FFFFFF",align:"center"}),i.titleText.setOrigin(.5,.5),i.add(i.titleText),i.helpText1=i.scene.add.text(61,284,"Select FIGHT to attack, or Pokémon to \nchange Pokémon!",{fontFamily:"Banda Regular",fontSize:13,color:"#FFFFFF",align:"center"}),i.add(i.helpText1),i.helpText1.setWordWrapWidth(160),i.helpText2=i.scene.add.text(227,284,"Each trainer &\nPokémon is associated\nwith an element.",{fontFamily:"Banda Regular",fontSize:13,color:"#FFFFFF",align:"center"}),i.add(i.helpText2),i.helpText2.setWordWrapWidth(160),i.helpText3=i.scene.add.text(400,284,"Deal more damage\nby using the right\nattack type against\neach trainer!",{fontFamily:"Banda Regular",fontSize:13,color:"#FFFFFF",align:"center"}),i.add(i.helpText3),i.helpText3.setWordWrapWidth(160),i.goButton=new t.util.BasicLabeledButton(i.scene,300,385,"ui-atlas","GO!"),i.add(i.goButton),i.cancelButton=new t.util.BasicButton(i.scene,548,94,"ui-atlas","_Stats_cancelButton0000","_Stats_cancelButton0001","_Stats_cancelButton0002"),i.add(i.cancelButton),i}return _createClass(n)}();e._Help=a}(e.fla||(e.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;_classCallCheck(this,n);var o=(i=a.call(this,e)).scene.add.graphics();return o.fillStyle(0,1),o.fillRect(0,0,game.scale.width,game.scale.height),i.add(o),i.intro1=i.scene.add.text(62,54,"As battling Pokémon grew in popularity, generations of children were growing up believing that Pokémon exist for no other reasons than to be used and abused by humans.",{fontFamily:"Banda Regular",fontSize:22,color:"#FFFFFF",align:"left"}),i.add(i.intro1),i.intro1.setWordWrapWidth(445),i.intro2=i.scene.add.text(62,213,"Children learned about dominance instead of compassion. While Pokémon faced the worst abuses, children also started bullying each other.",{fontFamily:"Banda Regular",fontSize:22,color:"#FFFFFF",align:"left"}),i.add(i.intro2),i.intro2.setWordWrapWidth(464),i.intro3=i.scene.add.text(62,346,"Until one Pokémon had enough...",{fontFamily:"Banda Regular",fontSize:22,color:"#FFFFFF",align:"left"}),i.add(i.intro3),i.intro3.setWordWrapWidth(520),i.goButton=new t.util.BasicLabeledButton(i.scene,495,453,"ui-atlas","GO!"),i.add(i.goButton),i}return _createClass(n)}();e._Intro=a}(e.fla||(e.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).mapBackground1=i.scene.add.image(0,0,"ui-atlas","mapBackground10000").setOrigin(25/649,0),i.add(i.mapBackground1),i.mapBackground1.gotoAndStop=function(t){i.mapBackground1.setFrame("mapBackground1"+{map1:"0000",map2:"0009",map3:"0019",map4:"0029"}[t])},i.mapBackground2=i.scene.add.image(0,-532.62,"ui-atlas","mapBackground20000").setOrigin(25/649,0),i.add(i.mapBackground2),i.mapBackground2.gotoAndStop=function(t){i.mapBackground2.setFrame("mapBackground2"+{map1:"0000",map2:"0009",map3:"0019",map4:"0029"}[t])},i.treasure=new Phaser.GameObjects.Container(i.scene,295,140),i.add(i.treasure),i.speechBubble=new t._SpeechBubble(i.scene),i.speechBubble.setPosition(296,150),i.add(i.speechBubble),i.dialogBox=new t._DialogBox(i.scene),i.dialogBox.setPosition(6,379),i.add(i.dialogBox),i.advanceDialogButton=i.scene.add.image(-5,375,"ui-atlas","advanceDialogButton0000").setOrigin(0,0),i.add(i.advanceDialogButton),window._Map=_assertThisInitialized(i),i}return _createClass(n,[{key:"gotoAndStop",value:function(t){"characterSpeak"==t?(this.dialogBox.setPosition(6,379),this.advanceDialogButton.setPosition(-5,330)):("trainerWalkOff"==t?this.dialogBox.setPosition(17,937):"startBattleDialog"==t||"dialog"==t?this.dialogBox.setPosition(6,379):"noDialog"==t&&this.dialogBox.setPosition(17,917),this.advanceDialogButton.setPosition(-5,1015))}}]),n}();t._Map=e}(t.fla||(t.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).add(i.scene.add.image(0,0,"preloader-atlas","_Preloader_BG0000").setOrigin(0,0)),i.popLogo=i.scene.add.image(502,24,"ui-atlas","popLogo0000"),i.add(i.popLogo),i.petaLogo=i.scene.add.image(9,5,"ui-atlas","petaLogo0000"),i.petaLogo.setOrigin(0,0),i.add(i.petaLogo),i.treasureButton=new t.util.BasicLabeledButton(i.scene,103,453,"ui-atlas","TREASURE"),i.add(i.treasureButton),i.playButton=new t.util.BasicLabeledButton(i.scene,495,453,"ui-atlas","GO!"),i.add(i.playButton),i}return _createClass(n,[{key:"petaLogoGotoAndStop",value:function(t){this.petaLogo.setFrame("petaLogo_"+t+"0000")}}]),n}();e._MenuMain=a}(e.fla||(e.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Container);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t)).pokemonNameDiv=null,n.inputTextField=null,n.inputTextFieldWidth=236,n.inputTextFieldHeight=40,n.inputTextFieldFontSize=26,n.inputTextFieldPosition={x:0,y:7},n.adjustEmailInput=function(){var t=toGlobal(_assertThisInitialized(n),n.inputTextFieldPosition),e="px";n.inputTextField.style.width=Math.ceil(n.inputTextFieldWidth/1/n.scene.game.scale.displayScale.x)+e,n.inputTextField.style.height=n.inputTextFieldHeight+e,n.inputTextField.style.fontSize=n.inputTextFieldFontSize/n.scene.game.scale.displayScale.y+e;var a=parseInt(n.scene.game.canvas.style.marginTop.split(e)[0]),i=parseInt(game.canvas.style.marginLeft.split(e)[0]);n.pokemonNameDiv.style.marginTop=a+Math.ceil(t.y/1/n.scene.game.scale.displayScale.y)-n.inputTextFieldHeight/2+e,n.pokemonNameDiv.style.marginLeft=i+Math.ceil(t.x/1/n.scene.game.scale.displayScale.x)+e},n.cursor=new Phaser.GameObjects.Graphics(n.scene),n.cursor.fillStyle(65443,1),n.cursor.width=6,n.cursor.fillRect(2,-12.5,n.cursor.width,25),n.cursor.setPosition(4,7),n.add(n.cursor),n.scene.time.addEvent({delay:350,callback:function(){_assertThisInitialized(n)&&n.cursor&&(n.cursor.alpha=1==n.cursor.alpha?0:1)},callbackScope:_assertThisInitialized(n),loop:!0}),n.pokemonNameDiv=document.querySelector("#pokemonNameDiv"),n.inputTextField=document.querySelector("#pokemonInputId"),n}return _createClass(a,[{key:"initializeInput",value:function(){this.setInputTextFieldContainerVisible(!0),this.adjustEmailInput(),this.scene.game.scale.addListener(Phaser.Scale.Events.RESIZE,this.adjustEmailInput)}},{key:"destroyInput",value:function(){this.setInputTextFieldContainerVisible(!1),this.scene.game.scale.removeListener(Phaser.Scale.Events.RESIZE,this.adjustEmailInput)}},{key:"setInputTextFieldContainerVisible",value:function(t){document.querySelector(".inputContainer").style.display=t?"block":"none",t&&this.inputTextField.focus()}}]),a}();t._NamePokemonTextField=e}(t.fla||(t.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).background=new Phaser.GameObjects.Image(i.scene,-1,1,"ui-atlas","_OpponentBattleInfo_background0000"),i.add(i.background),i.healthBar=new t._HealthBar(i.scene),i.healthBar.setPosition(-92,-3),i.add(i.healthBar),i.displayName=i.scene.add.text(-75,-42,"This",{fontFamily:"Agency FB Bold",fontSize:24,color:"#FFFFFF",align:"left",stroke:"#000000",strokeThickness:4}),i.add(i.displayName),i.gender=i.scene.add.image(-94,-30,"ui-atlas","male0000"),i.add(i.gender),i}return _createClass(n,[{key:"backgroundGotoAndStop",value:function(t){this.background.setFrame("_PlayerBattleInfo_background"+("normal"==t?"0000":"0009"))}},{key:"genderGotoAndStop",value:function(t){this.gender.setFrame(t+"0000")}}]),n}();t._OpponentBattleInfo=e}(t.fla||(t.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).helpButton=new t.util.BasicButton(i.scene,538,25,"ui-atlas","helpButton0000","helpButton0001","helpButton0002"),i.add(i.helpButton),i.muteButton=new t.util.BasicButton(i.scene,573,25,"ui-atlas","muteButton0000","muteButton0001","muteButton0002"),i.add(i.muteButton),i.unmuteButton=new t.util.BasicButton(i.scene,573,25,"ui-atlas","unmuteButton0000","unmuteButton0001","unmuteButton0002"),i.add(i.unmuteButton),i.versionNo=i.scene.add.text(582,50,"v19",{fontFamily:"Junegull-Regular",fontSize:12,color:"#000000",align:"right"}),i.add(i.versionNo),i}return _createClass(n)}();e._Overlay=a}(e.fla||(e.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;_classCallCheck(this,n),(i=a.call(this,e)).background=new Phaser.GameObjects.Image(i.scene,-1,1,"ui-atlas","_PlayerBattleInfo_background0000"),i.add(i.background),i.healthBar=new t._HealthBar(i.scene),i.healthBar.setPosition(-88,-7),i.add(i.healthBar);var o=new Phaser.GameObjects.Image(i.scene,85,-7,"ui-atlas","_PlayerBattleInfo_fg0000");return o.setOrigin(0,.5),i.add(o),i.health=i.scene.add.text(-15,-1,"50 / 50",{fontFamily:"Agency FB Bold",fontSize:10,color:"#FFFFFF",align:"center"}),i.add(i.health),i.displayName=i.scene.add.text(-75,-45,"This",{fontFamily:"Agency FB Bold",fontSize:24,color:"#FFFFFF",align:"left",stroke:"#000000",strokeThickness:4}),i.add(i.displayName),i.gender=i.scene.add.image(-94,-33,"ui-atlas","male0000"),i.add(i.gender),i}return _createClass(n,[{key:"backgroundGotoAndStop",value:function(t){this.background.setFrame("_PlayerBattleInfo_background"+("normal"==t?"0000":"0009"))}},{key:"genderGotoAndStop",value:function(t){this.gender.setFrame(t+"0000")}}]),n}();t._PlayerBattleInfo=e}(t.fla||(t.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Container);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t)).background=new Phaser.GameObjects.Image(n.scene,0,0,"ui-atlas","_PokemonSelectButton_background0000"),n.add(n.background),n._PokemonSelectButton_background_disabled=new Phaser.GameObjects.Image(n.scene,10,0,"ui-atlas","_PokemonSelectButton_background_disabled0000"),n._PokemonSelectButton_background_disabled.visible=!1,n.add(n._PokemonSelectButton_background_disabled),n.hoverImage=new Phaser.GameObjects.Image(n.scene,0,0,"ui-atlas","_PokemonSelectButton_hoverImage0000"),n.add(n.hoverImage),n.pokemonName=n.scene.add.text(-120,0,"",{fontFamily:"Banda Regular",fontSize:24,color:"#FFFFFF",align:"right"}),n.pokemonName.setOrigin(0,.5),n.add(n.pokemonName),n.pokemonHealth=n.scene.add.text(60,0,"",{fontFamily:"Banda Regular",fontSize:17,color:"#FFFFFF",align:"right"}),n.pokemonHealth.setOrigin(0,.5),n.add(n.pokemonHealth),n}return _createClass(a,[{key:"backgroundButtonGotoAndStop",value:function(t){this.background.setFrame("_PokemonSelectButton_background"+{normalOut:"0000",normalOver:"0009",normalDown:"0019",petaOut:"0029",petaOver:"0039",petaDown:"0049",electricOut:"0059",electricOver:"0069",electricDown:"0079",grassOut:"0089",grassOver:"0099",grassDown:"0109",fireOut:"0119",fireOver:"0129",fireDown:"0139",waterOut:"0149",waterOver:"0159",waterDown:"0169",disabledTLBR:"0179",disabledTRBL:"0189"}[t])}},{key:"hoverImageGotoAndStop",value:function(t){this.hoverImage.setFrame("_PokemonSelectButton_hoverImage"+{electric:"0000",peta:"0009",normal:"0019",grass:"0029",fire:"0039",water:"0049"}[t])}},{key:"gotoAndStop",value:function(t){this._PokemonSelectButton_background_disabled.visible="disabled"==t}}]),a}();t._PokemonSelectButton=e}(t.fla||(t.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Container);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t)).add(n.scene.add.image(0,0,"preloader-atlas","_Preloader_BG0000").setOrigin(0,0)),n.add(n.scene.add.image(302,481,"preloader-atlas","loader0000")),n.bar=n.scene.add.image(72,482,"preloader-atlas","bar0000"),n.bar.setOrigin(0,.5),n.add(n.bar),n.loadingText=n.scene.add.text(43,482,"LOADING",{fontFamily:"Agency FB Bold",fontSize:14,color:"#FFFFFF",align:"center"}),n.loadingText.setOrigin(.5),n.add(n.loadingText),n}return _createClass(a)}();t._Preloader=e}(t.fla||(t.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Container);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t)).arrow=new Phaser.GameObjects.Image(n.scene,0,0,"ui-atlas","_SpeechBubble_arrow0000"),n.arrow.setOrigin(0,0),n.add(n.arrow),n.bubble=new Phaser.GameObjects.Image(n.scene,0,241,"ui-atlas","_SpeechBubble_bubble0000"),n.bubble.setOrigin(.5,0),n.add(n.bubble),n}return _createClass(a)}();t._SpeechBubble=e}(t.fla||(t.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).add(i.bg=i.scene.add.image(0,0,"ui-atlas","_StatsBG0000").setOrigin(0,0)),i.panelButton=i.scene.add.image(31,75,"ui-atlas","_Stats_panelButton0000").setOrigin(0,0),i.panelButton.setInteractive({cursor:"pointer"}),i.add(i.panelButton),i.pokemon=i.scene.add.image(440,218,"ui-atlas","pikachu0000"),i.add(i.pokemon),i.gender=i.scene.add.image(485,354,"ui-atlas","male0000"),i.add(i.gender),i.cancelButton=new t.util.BasicButton(i.scene,545,95,"ui-atlas","_Stats_cancelButton0000","_Stats_cancelButton0001","_Stats_cancelButton0002"),i.add(i.cancelButton),i.pokemonName=i.scene.add.text(397,342,"SNIVY",{fontFamily:"Agency FB Bold",fontSize:24,color:"#000000",align:"center"}),i.add(i.pokemonName),i.pokemonInfoText=i.scene.add.text(55,91,"POKÉMON INFO",{fontFamily:"Agency FB Bold",fontSize:30,color:"#000000",align:"left"}),i.add(i.pokemonInfoText),i.dexNoText=i.scene.add.text(55,149,"National No.",{fontFamily:"Agency FB Bold",fontSize:18,color:"#000000",align:"left"}),i.add(i.dexNoText),i.nameText=i.scene.add.text(55,169,"Name",{fontFamily:"Agency FB Bold",fontSize:18,color:"#000000",align:"left"}),i.add(i.nameText),i.typeText=i.scene.add.text(55,189,"Type",{fontFamily:"Agency FB Bold",fontSize:18,color:"#000000",align:"left"}),i.add(i.typeText),i.otText=i.scene.add.text(55,209,"OT",{fontFamily:"Agency FB Bold",fontSize:18,color:"#000000",align:"left"}),i.add(i.otText),i.idNoText=i.scene.add.text(55,229,"Species",{fontFamily:"Agency FB Bold",fontSize:18,color:"#000000",align:"left"}),i.add(i.idNoText),i.heightWeight=i.scene.add.text(56,258,"HEIGHT 2'0\" WEIGHT 17.9 lbs",{fontFamily:"Agency FB",fontSize:18,color:"#000000",align:"left"}),i.add(i.heightWeight),i.infoText=i.scene.add.text(55,289,"Info:",{fontFamily:"Agency FB Bold",fontSize:18,color:"#000000",align:"left"}),i.add(i.infoText),i.movesText=i.scene.add.text(202,289,"Moves:",{fontFamily:"Agency FB Bold",fontSize:18,color:"#000000",align:"left"}),i.add(i.movesText),i.infoValue=i.scene.add.text(55,311,"Pokémon who’s freed himself from Ash's circus of abuse and is leading Pokémon Liberation.",{fontFamily:"Agency FB",fontSize:15,color:"#000000",align:"left"}),i.add(i.infoValue),i.infoValue.setWordWrapWidth(125),i.movesValue=i.scene.add.text(202,311,"Vine Whip\nWrap\nMega Drain\nProtein Shake-Up",{fontFamily:"Agency FB",fontSize:18,color:"#938D00",align:"left"}),i.add(i.movesValue),i.movesValue.setWordWrapWidth(124),i.dexNoValue=i.scene.add.text(150,149,"57",{fontFamily:"Agency FB",fontSize:18,color:"#000000",align:"left"}),i.add(i.dexNoValue),i.nameValue=i.scene.add.text(150,169,"SNIVY",{fontFamily:"Agency FB",fontSize:18,color:"#000000",align:"left"}),i.add(i.nameValue),i.typeValue=i.scene.add.text(150,189,"ELECTRIC",{fontFamily:"Agency FB",fontSize:18,color:"#D6D6D6",align:"left"}),i.add(i.typeValue),i.otValue=i.scene.add.text(150,209,"Professor Juniper",{fontFamily:"Agency FB",fontSize:18,color:"#000000",align:"left"}),i.add(i.otValue),i.idNoValue=i.scene.add.text(150,229,"Grass Snake Pokémon",{fontFamily:"Agency FB",fontSize:18,color:"#000000",align:"left"}),i.add(i.idNoValue),i}return _createClass(n,[{key:"panelButtonAddEventListenerClick",value:function(t){this.panelButton.on("pointerup",t)}},{key:"panelButtonRemoveEventListenerClick",value:function(t){this.panelButton.off("pointerup",t)}},{key:"pokemonGotoAndStop",value:function(t){this.pokemon.setFrame(t+"0000")}},{key:"genderGotoAndStop",value:function(t){this.gender.setFrame(t+"0000")}}]),n}();e._Stats=a}(e.fla||(e.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).downloadButton=new t.util.BasicLabeledButton(i.scene,1,71,"ui-atlas","VIEW"),i.downloadButton.setScale(.75),i.add(i.downloadButton),i.hoverImage=new Phaser.GameObjects.Image(i.scene,0,-8,"ui-atlas","hoverImage0000"),i.add(i.hoverImage),i}return _createClass(n)}();e._TreasureButton=a}(e.fla||(e.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(a){_inherits(i,Phaser.GameObjects.Container);var n=_createSuper(i);function i(a){var o;return _classCallCheck(this,i),(o=n.call(this,a)).add(o.scene.add.image(0,0,"ui-atlas","_TreasureScreenBG0000").setOrigin(0,0)),o.backButton=new t.util.BasicLabeledButton(o.scene,105,454,"ui-atlas","TREASURE"),o.add(o.backButton),o.treasureText=o.scene.add.text(200,15,"TREASURE",{fontFamily:"Agency FB Bold",fontSize:65,color:"#000000",align:"center"}),o.treasureText.setShadow(4,4,"#3B6C7D"),o.add(o.treasureText),o.unlockedText=o.scene.add.text(game.scale.width/2,90,"YOU'VE UNLOCKED 1 OF 3 TREASURE CHESTS!",{fontFamily:"Junegull-Regular",fontSize:22,color:"#FFFFFF",align:"center",stroke:"#7CC2E6",strokeThickness:6}),o.unlockedText.setOrigin(.5,0),o.add(o.unlockedText),o.freeMeVideoText=o.scene.add.text(113,297,"'FREE ME' VIDEO",{fontFamily:"Junegull-Regular",fontSize:22,color:"#FFFFFF",align:"center",stroke:"#2782A1",strokeThickness:6}),o.freeMeVideoText.setOrigin(.5,0),o.add(o.freeMeVideoText),o.wallpaperText=o.scene.add.text(300,297,"WALLPAPER",{fontFamily:"Junegull-Regular",fontSize:22,color:"#FFFFFF",align:"center",stroke:"#2782A1",strokeThickness:6}),o.wallpaperText.setOrigin(.5,0),o.add(o.wallpaperText),o.tradingCardsText=o.scene.add.text(478,297,"TRADING CARDS",{fontFamily:"Junegull-Regular",fontSize:22,color:"#FFFFFF",align:"center",stroke:"#2782A1",strokeThickness:6}),o.tradingCardsText.setOrigin(.5,0),o.add(o.tradingCardsText),o.treasureButton1=new e._TreasureButton(o.scene),o.treasureButton1.setPosition(115,280),o.add(o.treasureButton1),o.treasureButton2=new e._TreasureButton(o.scene),o.treasureButton2.setPosition(300,280),o.add(o.treasureButton2),o.treasureButton3=new e._TreasureButton(o.scene),o.treasureButton3.setPosition(485,280),o.add(o.treasureButton3),o}return _createClass(i)}();e._TreasureScreen=a}(e.fla||(e.fla={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Container);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t)).animName="transition-playing",n.transition=n.scene.add.sprite(0,0,"animation_transition-atlas"),n.transition.setOrigin(0,0),n.add(n.transition),n.scene.anims.exists(n.animName)||n.scene.anims.create({key:n.animName,frames:n.scene.anims.generateFrameNames(n.transition.texture.key,{start:0,end:28,zeroPad:4,prefix:"transition",suffix:""}),frameRate:24}),n}return _createClass(a,[{key:"gotoAndPlay",value:function(){this.transition.anims.play(this.animName)}}]),a}();t._AnimationTransitionSWF=e}(t.swf||(t.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){var a=function(){function e(t){_classCallCheck(this,e),this.childrenAnimationsConfig={cherenStop:{start:0,end:0,repeat:0,originX:0,originY:0},juniperStop:{start:0,end:0,repeat:0,originX:0,originY:0},ashStop:{start:0,end:0,repeat:0,originX:0,originY:0},ghetsisStop:{start:0,end:0,repeat:0,originX:0,originY:0},nurseJoyStop:{start:0,end:0,repeat:0,originX:0,originY:0},nurseJoyWalk:{start:0,end:17,repeat:-1,originX:0,originY:0},snorlaxStop:{start:0,end:0,repeat:0,originX:0,originY:0},snorlaxFall:{start:0,end:19,repeat:0,originX:.05,originY:.65,sfx:"43"},pikachuWalk:{start:0,end:18,repeat:-1,originX:-.2,originY:-.42},pikachuStop:{start:0,end:2,repeat:0,originX:-.13,originY:-.5},pikachuChest:{start:0,end:32,repeat:0,originX:-.11,originY:-.45},mudkipStop:{start:0,end:0,repeat:0,originX:0,originY:0},mudkipJump:{start:0,end:33,repeat:0,originX:.19,originY:.21},oshawottWalk:{start:0,end:18,repeat:-1,originX:-.9,originY:-.55},oshawottStop:{start:0,end:2,repeat:0,originX:-.9,originY:-.55},tepigStop:{start:0,end:2,repeat:0,originX:-.83,originY:-.3},tepigWalk:{start:0,end:18,repeat:-1,originX:-.85,originY:-.3},snivyStop:{start:0,end:1,repeat:0,originX:.13,originY:0},snivyWalk:{start:0,end:17,repeat:-1,originX:.19,originY:.02},slowpokeStop:{start:0,end:0,repeat:0,originX:0,originY:0},slowpokeWalk:{start:0,end:10,repeat:-1,originX:0,originY:0,sfx:"51"}},this.scene=t}return _createClass(e,[{key:"getChildByName",value:function(e){var a=this,n=""+e,i=this.scene.add.sprite(0,0,"topdown-atlas",n+"0000");return i.setOrigin(this.childrenAnimationsConfig[n].originX,this.childrenAnimationsConfig[n].originY),i.gotoAndPlay=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=n+"-playingFrom"+e;if(a.scene.anims.exists(s)||a.scene.anims.create({key:s,frames:a.scene.anims.generateFrameNames(i.texture.key,{start:e,end:a.childrenAnimationsConfig[n].end,zeroPad:4,prefix:n,suffix:""}),frameRate:24,repeat:a.childrenAnimationsConfig[n].repeat}),i.anims.play(s),o){var r=function t(){o(),i.off("animationcomplete",t)};i.on("animationcomplete",r)}a.childrenAnimationsConfig[n].hasOwnProperty("sfx")&&t.code.GameWorld.soundManager.playSound(a.childrenAnimationsConfig[n].sfx)},i.gotoAndStop=function(t){i.anims.stop(),i.setFrame(a.scene.anims.generateFrameNames(i.texture.key,{start:t,end:t,zeroPad:4,prefix:n,suffix:""})[0].frame)},i}}]),e}();e._TopdownSWF=a}(e.swf||(e.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Container);var e=_createSuper(a);function a(t){var n;_classCallCheck(this,a),(n=e.call(this,t)).treasurebox=n.scene.add.sprite(0,0,"treasurebox-atlas","treasurebox0000"),n.treasurebox.setOrigin(0,0),n.add(n.treasurebox);var i="show";n.scene.anims.exists(i)||n.scene.anims.create({key:i,frames:n.scene.anims.generateFrameNames(n.treasurebox.texture.key,{start:0,end:40,zeroPad:4,prefix:"treasurebox",suffix:""}),frameRate:24});var o="open";return n.scene.anims.exists(o)||n.scene.anims.create({key:o,frames:n.scene.anims.generateFrameNames(n.treasurebox.texture.key,{start:41,end:107,zeroPad:4,prefix:"treasurebox",suffix:""}),frameRate:24}),n}return _createClass(a,[{key:"gotoAndStop",value:function(t){this.treasurebox.play(t)}}]),a}();t._TreasureboxSWF=e}(t.swf||(t.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Container);var e=_createSuper(a);function a(t){var n;_classCallCheck(this,a),(n=e.call(this,t)).win_pikachu=n.scene.add.sprite(141,40,"win-atlas"),n.win_pikachu.setOrigin(0,0),n.add(n.win_pikachu);var i="win_pikachu-playing";n.scene.anims.exists(i)||n.scene.anims.create({key:i,frames:n.scene.anims.generateFrameNames(n.win_pikachu.texture.key,{start:0,end:15,zeroPad:4,prefix:"win_pikachu",suffix:""}),frameRate:24,repeat:-1}),n.win_pikachu.anims.play(i),n.win_tepig=n.scene.add.sprite(243,47,"win-atlas"),n.win_tepig.setOrigin(0,0),n.add(n.win_tepig);var o="win_tepig-playing";n.scene.anims.exists(o)||n.scene.anims.create({key:o,frames:n.scene.anims.generateFrameNames(n.win_tepig.texture.key,{start:0,end:11,zeroPad:4,prefix:"win_tepig",suffix:""}),frameRate:24,repeat:-1}),n.win_tepig.anims.play(o),n.win_oshawott=n.scene.add.sprite(314,64,"win-atlas"),n.win_oshawott.setOrigin(0,0),n.add(n.win_oshawott);var s="win_oshawott-playing";n.scene.anims.exists(s)||n.scene.anims.create({key:s,frames:n.scene.anims.generateFrameNames(n.win_oshawott.texture.key,{start:0,end:12,zeroPad:4,prefix:"win_oshawott",suffix:""}),frameRate:24,repeat:-1}),n.win_oshawott.anims.play(s),n.win_snivy=n.scene.add.sprite(381,36,"win-atlas"),n.win_snivy.setOrigin(0,0),n.add(n.win_snivy);var r="win_snivy-playing";n.scene.anims.exists(r)||n.scene.anims.create({key:r,frames:n.scene.anims.generateFrameNames(n.win_oshawott.texture.key,{start:0,end:13,zeroPad:4,prefix:"win_snivy",suffix:""}),frameRate:24,repeat:-1}),n.win_snivy.anims.play(r);for(var l=function(t){var e=new Phaser.GameObjects.Image(n.scene,Math.random()*game.scale.width,Math.random()>.25?0:game.scale.height/2+150*(Math.random()-.5),"win-atlas","confetti_"+Math.ceil(8*Math.random())+"0000"),a=(game.scale.height-e.y)/100*500;n.scene.tweens.add({targets:e,duration:1e3,repeat:-1,angle:Math.random()>.5?360:-360}),n.scene.tweens.add({targets:e,duration:a,y:game.scale.height,delay:50*t,repeat:-1,onStart:function(){return n.add(e)}})},c=0;c<50;c++)l(c);return n}return _createClass(a)}();t._WinSWF=e}(t.swf||(t.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(e){!function(e){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(t,e,i){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;for(var l in _classCallCheck(this,n),(o=a.call(this,t)).effectsSprite=null,o.effectsData=null,o._isDonePlayingCurrentLabel=!1,o._currentPlayingLabel=null,o.mainCharacterScale=s,o.mainCharacterName=i,o.animationsData=n.ANIMATIONS[o.mainCharacterName],o.animationsData){var c=o.createAnimName(l);o.scene.anims.exists(c)||o.scene.anims.create({key:c,frames:o.scene.anims.generateFrameNames(e,{start:o.animationsData[l].start,end:o.animationsData[l].end,zeroPad:4,prefix:o.mainCharacterName,suffix:""}),frameRate:30,repeat:o.animationsData[l].repeat})}if(o.mainCharacterSprite=o.scene.add.sprite(0,0,e,o.mainCharacterName+"0000"),o.mainCharacterSprite.setScale(o.mainCharacterScale),o.mainCharacterSprite.setOrigin(n.ANCHORS[o.mainCharacterName].x*o.mainCharacterSprite.scaleX,n.ANCHORS[o.mainCharacterName].y*o.mainCharacterSprite.scaleY),o.add(o.mainCharacterSprite),o.mainCharacterSprite.on("animationcomplete",(function(){o._isDonePlayingCurrentLabel=!0,o._currentPlayingLabel=null})),o.effectsData=r,r)for(var u in o.effectsSprite=o.scene.add.sprite(0,0,e,r.startFrame),o.effectsSprite.setScale(o.mainCharacterScale),o.effectsSprite.setOrigin(r.originX,r.originY),o.add(o.effectsSprite),o.animationsData){var h=o.createEffectsAnimName(u);o.scene.anims.exists(h)||o.scene.anims.create({key:h,frames:o.scene.anims.generateFrameNames(o.effectsSprite.texture.key,{start:o.animationsData[u].start,end:o.animationsData[u].end,zeroPad:4,prefix:r.name,suffix:""}),frameRate:30,repeat:o.animationsData[u].repeat})}return o}return _createClass(n,[{key:"gotoAndPlay",value:function(e){this._isDonePlayingCurrentLabel=!1,this.mainCharacterSprite.anims.play(this.createAnimName(e)),this._currentPlayingLabel=e,this.effectsSprite&&this.effectsSprite.anims.play(this.createEffectsAnimName(e)),this.animationsData[e].hasOwnProperty("sfx")&&t.code.GameWorld.soundManager.playSound(this.animationsData[e].sfx)}},{key:"gotoAndStop",value:function(t){this._isDonePlayingCurrentLabel=!0,this.mainCharacterSprite.anims.stop(),this.mainCharacterSprite.setFrame(this.scene.anims.generateFrameNames(this.mainCharacterSprite.texture.key,{start:this.animationsData[t].start,end:this.animationsData[t].start,zeroPad:4,prefix:this.mainCharacterName,suffix:""})[0].frame),this._currentPlayingLabel=t,this.effectsSprite&&(this.effectsSprite.anims.stop(),this.effectsSprite.setFrame(this.scene.anims.generateFrameNames(this.effectsSprite.texture.key,{start:this.animationsData[t].start,end:this.animationsData[t].start,zeroPad:4,prefix:this.effectsData.name,suffix:""})[0].frame))}},{key:"getChildByName",value:function(t){return t==this.mainCharacterName?this.mainCharacterSprite:null}},{key:"createAnimName",value:function(t){return this.mainCharacterName+"_"+t}},{key:"createEffectsAnimName",value:function(t){return this.createAnimName(t)+"_effects"}},{key:"getMainCharacterSprite",value:function(){return this.mainCharacterSprite}},{key:"isDonePlayingCurrentLabel",value:function(){return this._isDonePlayingCurrentLabel}},{key:"getCurrentPlayingLabel",value:function(){return this._currentPlayingLabel}}]),n}();a.ANCHORS={pikachu:{x:0,y:.23},ghetsis:{x:-1,y:0},cheren:{x:-.1,y:-.12},ash:{x:-.02,y:.02},oshawott:{x:-.5,y:-1.05},juniper:{x:-.12,y:-.12},tepig:{x:-.36,y:-1.52},snivy:{x:-.35,y:-1.25}},a.ANIMATIONS={pikachu:{appear:{start:0,end:49,repeat:0},ready:{start:50,end:106,repeat:-1},dodge:{start:107,end:131,repeat:0},takeDamage:{start:132,end:167,repeat:0},ThunderShock:{start:168,end:217,repeat:0,sfx:"79"},QuickAttack:{start:218,end:252,repeat:0,sfx:"98"},Protest:{start:253,end:306,repeat:0,sfx:"111"},GroupHug:{start:307,end:410,repeat:0,sfx:"111"}},ghetsis:{normal:{start:0,end:37,repeat:-1},defeat:{start:38,end:89,repeat:0},takeDamage:{start:90,end:110,repeat:0},dodge:{start:111,end:131,repeat:0},MeatCleaver:{start:132,end:165,repeat:0,sfx:"75"},Electrocution:{start:166,end:218,repeat:0,sfx:"123"},Trap:{start:219,end:263,repeat:0,sfx:"148"}},cheren:{normal:{start:0,end:44,repeat:-1},defeat:{start:45,end:85,repeat:0},dodge:{start:86,end:111,repeat:0},takeDamage:{start:112,end:136,repeat:0},dicipline:{start:137,end:168,repeat:0,sfx:"65"},ChokeCollar:{start:169,end:210,repeat:0,sfx:"80"},DockTail:{start:211,end:248,repeat:0,sfx:"93"}},ash:{ready:{start:0,end:40,repeat:-1},defeat:{start:41,end:73,repeat:0},dodge:{start:74,end:112,repeat:0},takeDamages:{start:113,end:148,repeat:0},whipLash:{start:149,end:198,repeat:0,sfx:"49"},bullhogBlash:{start:199,end:235,repeat:0,sfx:"59"},cagetoss:{start:236,end:326,repeat:0,sfx:"65"}},oshawott:{normal:{start:0,end:34,repeat:-1},takeDamage:{start:35,end:57,repeat:0},dodge:{start:58,end:84,repeat:0},Tackle:{start:85,end:122,repeat:0,sfx:"48"},WaterGun:{start:123,end:185,repeat:0,sfx:"61"},Recruit:{start:186,end:248,repeat:0,sfx:"76"},ProteinShakeUp:{start:249,end:319,repeat:0,sfx:"76"}},juniper:{normal:{start:0,end:34,repeat:-1},defeat:{start:35,end:75,repeat:0},takeDamage:{start:76,end:95,repeat:0},dodge:{start:95,end:115,repeat:0},Dissection:{start:116,end:158,repeat:0,sfx:"85"},PerfumePulse:{start:159,end:205,repeat:0,sfx:"124"},Toxin:{start:206,end:274,repeat:0,sfx:"143"}},tepig:{ready:{start:0,end:46,repeat:-1},dodge:{start:47,end:70,repeat:0},takeDamage:{start:71,end:94,repeat:0},ember:{start:95,end:149,repeat:0,sfx:"117"},shame:{start:150,end:212,repeat:0,sfx:"131"},takeDown:{start:213,end:272,repeat:0,sfx:"183"},petition:{start:273,end:323,repeat:0,sfx:"131"}},snivy:{normal:{start:0,end:45,repeat:-1},takeDamage:{start:46,end:74,repeat:0},Dodge:{start:75,end:103,repeat:0},Wrap:{start:104,end:185,repeat:0,sfx:"49"},Educate:{start:186,end:231,repeat:0,sfx:"66"},BullHorn:{start:232,end:278,repeat:0,sfx:"66"},MegaDrain:{start:279,end:367,repeat:0,sfx:"153"}}},e._BaseCharacterSWF=a}(e.character||(e.character={}))}(e.swf||(e.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){return _classCallCheck(this,a),e.call(this,t,"animation_asset_ash-atlas","ash")}return _createClass(a)}(t._BaseCharacterSWF);t._Animation_asset_ashSWF=e}(t.character||(t.character={}))}(t.swf||(t.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){return _classCallCheck(this,a),e.call(this,t,"animation_asset_cheren-atlas","cheren")}return _createClass(a)}(t._BaseCharacterSWF);t._Animation_asset_cherenSWF=e}(t.character||(t.character={}))}(t.swf||(t.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){return _classCallCheck(this,a),e.call(this,t,"animation_asset_ghetsis-atlas","ghetsis",1,{name:"ghetsis_effects",startFrame:"ghetsis_effects0188",originX:-.25,originY:.1})}return _createClass(a)}(t._BaseCharacterSWF);t._Animation_asset_ghetsisSWF=e}(t.character||(t.character={}))}(t.swf||(t.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){return _classCallCheck(this,a),e.call(this,t,"animation_asset_oshawott-atlas","oshawott",1,{name:"oshawott_effects",startFrame:"oshawott_effects0144",originX:-.35,originY:-.1})}return _createClass(a)}(t._BaseCharacterSWF);t._Animation_asset_oshawottSWF=e}(t.character||(t.character={}))}(t.swf||(t.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){return _classCallCheck(this,a),e.call(this,t,"animation_asset_pikachu-atlas","pikachu",1/.75)}return _createClass(a)}(t._BaseCharacterSWF);t._Animation_asset_pikachuSWF=e}(t.character||(t.character={}))}(t.swf||(t.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){return _classCallCheck(this,a),e.call(this,t,"animation_asset_profjuniper-atlas","juniper",1/.85)}return _createClass(a)}(t._BaseCharacterSWF);t._Animation_asset_profjuniperSWF=e}(t.character||(t.character={}))}(t.swf||(t.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){return _classCallCheck(this,a),e.call(this,t,"animation_asset_snivy-atlas","snivy",1,{name:"snivy_effects",startFrame:"snivy_effects0334",originX:-.4,originY:-.05})}return _createClass(a)}(t._BaseCharacterSWF);t._Animation_asset_snivySWF=e}(t.character||(t.character={}))}(t.swf||(t.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){!function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){return _classCallCheck(this,a),e.call(this,t,"animation_asset_tepig-atlas","tepig",1,{name:"tepig_effects",startFrame:"tepig_effects0169",originX:-.35,originY:-.1})}return _createClass(a)}(t._BaseCharacterSWF);t._Animation_asset_tepigSWF=e}(t.character||(t.character={}))}(t.swf||(t.swf={}))}(t.assets||(t.assets={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(){function t(){_classCallCheck(this,t),this.isNew=!1,this.maxedOut=!1,this.level=0,this.negativeEffect=new Array,this.positiveEffect=new Array}return _createClass(t,[{key:"incrementLevel",value:function(t){var e=this.level;this.level=this.level+t,this.level=Math.max(this.level,-(this.negativeEffect.length-1)),this.level=Math.min(this.level,this.positiveEffect.length-1),this.isNew=!0,this.maxedOut=!1,e==this.level&&(this.maxedOut=!0),console.log("increment level: "+this.type+" --- "+this.level)}},{key:"preAttack",value:function(){this.isNew=!1}},{key:"postAttack",value:function(){}},{key:"checkNew",value:function(){return!!this.isNew&&(this.isNew=!1,!0)}},{key:"getEffectFactor",value:function(){return this.level>0?(console.log("get effect factor: "+this.type+" --- "+this.positiveEffect[this.level]),this.positiveEffect[this.level]):this.level<0?(console.log("get effect factor: "+this.type+" --- "+this.negativeEffect[Math.abs(this.level)]),this.negativeEffect[Math.abs(this.level)]):(console.log("get effect factor: "+this.type+" --- 1"),1)}},{key:"applyEffect",value:function(t){return t*this.getEffectFactor()}}]),t}();t.StatEffect=e}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(t){_inherits(a,t);var e=_createSuper(a);function a(){var t;return _classCallCheck(this,a),(t=e.call(this)).positiveEffect=new Array(1.33,1.66,2,2.33,2.66,3),t.negativeEffect=new Array(.875,.8,.75,.714,.6875,.665),t.type="accuracy",t}return _createClass(a)}(t.code.StatEffect);e.AccuracyStatEffect=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t)).isEnabled=!1,n.elementType="normal",n.down=function(){n.gotoAndStop("mouseDown"),n.backgroundButtonGotoAndStop(n.elementType+"Down"),n.hoverImage.visible=!1},n.over=function(){n.gotoAndStop("mouseOver"),n.backgroundButtonGotoAndStop(n.elementType+"Over"),n.hoverImage.visible=!0},n.out=function(){n.gotoAndStop("mouseOut"),n.backgroundButtonGotoAndStop(n.elementType+"Out"),n.hoverImage.visible=!1},n.callback=null,n.hoverImage.scaleX=.98,n.tweenX=n.scene.tweens.add({targets:n.hoverImage,scaleX:1.01,duration:350,yoyo:!0}),n.hoverImage.scaleY=.98,n.tweenY=n.scene.tweens.add({targets:n.hoverImage,scaleX:1.01,duration:350,yoyo:!0}),n.gotoAndStop("disabled"),n.hoverImage.visible=!1,n}return _createClass(a,[{key:"setEnabled",value:function(t){t&&!this.isEnabled?(this.background.setInteractive({cursor:"pointer"}),this.background.on("pointerdown",this.down),this.background.on("pointerover",this.over),this.background.on("pointerout",this.out),this.out()):!t&&this.isEnabled&&(this.disableInteractive(),this.background.off("pointerdown",this.down),this.background.off("pointerover",this.over),this.background.off("pointerout",this.out),this.gotoAndStop("disabled")),this.isEnabled=t}},{key:"setType",value:function(t){this.elementType=t,this.elementSymbolGotoAndStop(this.elementType),this.backgroundButtonGotoAndStop(this.elementType+"Out"),this.hoverImageGotoAndStop(this.elementType)}},{key:"setNumber",value:function(t){1==t?this.backgroundGotoAndStop("topLeft"):2==t?this.backgroundGotoAndStop("bottomLeft"):3==t?this.backgroundGotoAndStop("topRight"):this.backgroundGotoAndStop("bottomRight")}},{key:"addEventListenerClick",value:function(t){this.callback||(this.callback=t,this.background.on("pointerup",this.callback))}},{key:"removeEventListenerClick",value:function(){this.callback&&(this.background.off("pointerup",this.callback),this.callback=null)}}]),a}(t.assets.fla._AttackButton);e.AttackButton=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,Phaser.GameObjects.Container);var n=_createSuper(i);function i(t,e){var a;return _classCallCheck(this,i),(a=n.call(this,e)).elementType="Normal",a.displayName="",a.baseDamage=0,a.baseSpeed=0,a.className=null,a.accuracy=100,a.recoil=0,a.paralyze=0,a.drain=0,a.confuse=0,a.poison=0,a.trap=0,a.attackEffect=0,a.defenseEffect=0,a.evadeEffect=0,a.accuracyEffect=0,a.description="",a.loadFromXML(t),a}return _createClass(i,[{key:"loadFromXML",value:function(e){this.elementType=t.util.XMLParser.getAttribute(e,"type"),this.displayName=t.util.XMLParser.getAttribute(e,"name"),this.baseDamage=t.util.XMLParser.getAttribute(e,"damage"),this.baseSpeed=t.util.XMLParser.getAttribute(e,"speed"),this.maxPP=t.util.XMLParser.getAttribute(e,"pp"),this.curPP=this.maxPP,this.description=t.util.XMLParser.getAttribute(e,"description");var a=t.util.XMLParser.getAttribute(e,"mcName");isEmpty(a)||(this.className=a);var n=t.util.XMLParser.getAttribute(e,"accuracy");isEmpty(n)||(this.accuracy=Number(n));var i=t.util.XMLParser.getAttribute(e,"recoil");isEmpty(i)||(this.recoil=Number(i)/100);var o=t.util.XMLParser.getAttribute(e,"paralyze");isEmpty(o)||(this.paralyze=Number(o));var s=t.util.XMLParser.getAttribute(e,"drain");isEmpty(s)||(this.drain=Number(s)/100);var r=t.util.XMLParser.getAttribute(e,"confuse");isEmpty(r)||(this.confuse=Number(r));var l=t.util.XMLParser.getAttribute(e,"poison");isEmpty(l)||(this.poison=Number(l));var c=t.util.XMLParser.getAttribute(e,"trap");isEmpty(c)||(this.trap=Number(c));var u=t.util.XMLParser.getAttribute(e,"attackEffect");isEmpty(u)||(this.attackEffect=Number(u));var h=t.util.XMLParser.getAttribute(e,"defenseEffect");isEmpty(h)||(this.defenseEffect=Number(h));var d=t.util.XMLParser.getAttribute(e,"evadeEffect");isEmpty(d)||(this.evadeEffect=Number(d));var p=t.util.XMLParser.getAttribute(e,"accuracyEffect");isEmpty(p)||(this.accuracyEffect=Number(p))}},{key:"loadStatusEffect",value:function(t){var a=e.GameWorld.constants.getObjectWithID(t,"statusEffects");this.loadFromXML(a)}},{key:"didAttackMiss",value:function(){return 100*Math.random()>=this.owner.applyStat("accuracy",this.accuracy)}},{key:"usedMove",value:function(){this.curPP--,this.curPP=Math.max(0,this.curPP)}},{key:"applyStatusEffects",value:function(t){this.paralyze>0&&100*Math.random()<=this.paralyze&&t.addStatusEffect("paralyze"),this.confuse>0&&100*Math.random()<=this.confuse&&t.addStatusEffect("confuse"),this.trap>0&&100*Math.random()<=this.trap&&t.addStatusEffect("trap"),this.poison>0&&100*Math.random()<=this.poison&&t.addStatusEffect("poison")}},{key:"applyStatEffects",value:function(t){console.log("applying stat effects: "+this.attackEffect+" --- "+this.defenseEffect+" --- "+this.evadeEffect+" --- "+this.accuracyEffect),(t==this.owner&&this.attackEffect>0||t!=this.owner&&this.attackEffect<0)&&t.incrementStat("attack",this.attackEffect),(t==this.owner&&this.defenseEffect>0||t!=this.owner&&this.defenseEffect<0)&&t.incrementStat("defense",this.defenseEffect),(t==this.owner&&this.evadeEffect>0||t!=this.owner&&this.evadeEffect<0)&&t.incrementStat("evasion",this.evadeEffect),(t==this.owner&&this.accuracyEffect>0||t!=this.owner&&this.accuracyEffect<0)&&t.incrementStat("accuracy",this.accuracyEffect)}}]),i}();e.AttackMove=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Container);var e=_createSuper(a);function a(t,n){var i;return _classCallCheck(this,a),(i=e.call(this,n)).gameworld=t,i}return _createClass(a,[{key:"keyIsDown",value:function(t){return!1}},{key:"keyPressed",value:function(t){return!1}},{key:"_destroy",value:function(){}},{key:"stopInput",value:function(){}},{key:"_update",value:function(){}}]),a}();t.Screen=e}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,a);var n=_createSuper(i);function i(a,o){var s;return _classCallCheck(this,i),(s=n.call(this,a,o)).statusSound="",s.lastBattleOneOff=!1,s.BATTLESTATE_INTRO=0,s.BATTLESTATE_INTRO_DIALOG=1,s.BATTLESTATE_MENU=2,s.BATTLESTATE_WIN=5,s.BATTLESTATE_GET_POKEMON=7,s.BATTLESTATE_POKEMON_DIALOG=8,s.BATTLESTATE_SWITCH_POKEMON=9,s.BATTLESTATE_POKEMON_DETAIL=10,s.BATTLESTATE_FIGHT_MENU=11,s.BATTLESTATE_DIALOG=12,s.battleState=-1,s.advanceDialog=function(){s.dialogBox.isDone()&&(console.log("battle state: "+s.battleState),s.battleState==s.BATTLESTATE_INTRO_DIALOG?"pikachu"==s.opponent.dropsPokemon?s._setState(s.BATTLESTATE_SWITCH_POKEMON):(s.battleState=s.BATTLESTATE_FIGHT_MENU,s.checkBattleConditions()):s.battleState==s.BATTLESTATE_POKEMON_DIALOG&&(s.setAdvanceDialogEnabled(!1),s.gameworld.player.currentBattle++,s.gameworld._setState(s.gameworld.GAMESTATE_MAP))),s.dialogBox.advanceLine()},s.fight=function(){s._setState(s.BATTLESTATE_FIGHT_MENU)},s.playAttackAnimation=function(){console.log("play attack animation!"),s.attacker.isStatusTriggered("confuse")?(console.log("attacker confused"),s.playHealthAnimation()):s.currentAttackMove.didAttackMiss()?(console.log("attack missed"),e.GameWorld.soundManager.playSound("dodge"),s.currentAttackMove.usedMove(),s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("missed")),s.dialogBox.setNextClickCallback(s.checkAttackerStatusEffects),s.dialogBox.advanceLine(),s.attacker.checkedRecoil=!0):s.defender.didEvadeAttack(s.currentAttackMove)?(console.log("attack evaded"),e.GameWorld.soundManager.playSound("dodge"),s.attacker.playFrame(s.currentAttackMove.className,s.attackDodged)):s.attacker.isStatusTriggered("paralyze")?(console.log("attacker paralyzed"),s.checkBattleConditions()):(console.log("attack playing animation: "+s.currentAttackMove.className),s.attacker.playFrame(s.currentAttackMove.className,s.playHealthAnimation))},s.playHealthAnimation=function(){var a=null;console.log("play health animation"),s.attacker.isStatusTriggered("confuse")?(s.dialogBox.updateGenderPronounsWithCharacter(s.attacker),s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("hurtConfused")),s.dialogBox.updateText(),s.dialogBox.setNextClickCallback(s.checkAttackEffects),s.attacker.applyConfuse(s.currentAttackMove),s.attacker.curHealth<s.attacker.prevHealth&&s.attacker.playFrame(s.attacker.getFrame("damage")),(a=s.attacker==s.player?s.playerBattleInfo.healthBar:s.opponentBattleInfo.healthBar).updateHealth(s.attacker)):(("true"==t.util.XMLParser.getAttribute(e.GameWorld.constants.getElementWithName("gamegenie"),"opponentOneHitKO")&&s.attacker==s.opponent||"true"==t.util.XMLParser.getAttribute(e.GameWorld.constants.getElementWithName("gamegenie"),"playerOneHitKO")&&s.attacker==s.player)&&(s.currentAttackMove.baseDamage=3*s.defender.curHealth),s.defender.applyAttack(s.currentAttackMove),s.currentAttackMove.applyStatEffects(s.attacker),a=s.defender==s.player?s.playerBattleInfo.healthBar:s.opponentBattleInfo.healthBar,s.defender.curHealth==s.defender.prevHealth&&"PerfumePulse"!=s.currentAttackMove.className||s.defender.playFrame(s.defender.getFrame("damage")),a.updateHealth(s.defender,s.showMoveDescription))},s.showMoveDescription=function(){s.dialogBox.addLine(s.currentAttackMove.description),s.dialogBox.updateText(),s.dialogBox.setNextClickCallback(s.checkAttackEffects)},s.checkAttackEffects=function(){console.log("check attack effects");var t="",a=e.GameWorld.constants.getWeaknessResistanceFactor(s.currentAttackMove.elementType,s.defender.elementType);.5==a?t=e.GameWorld.constants.getOneLinerWithID("notEffective"):2==a?t=e.GameWorld.constants.getOneLinerWithID("superEffective"):0==a&&(t=e.GameWorld.constants.getOneLinerWithID(s.defender==s.player?"notAffected":"notAffectedEnemy").replace("%pokemon%",s.defender.displayName)),""!=t?(s.dialogBox.addLine(t),s.dialogBox.updateText(),s.dialogBox.setNextClickCallback(s.checkDefenderStatusEffects)):s.checkDefenderStatusEffects()},s.checkDefenderStatusEffects=function(){if(console.log("check defender status effects"),s.dialogBox.updateGenderPronounsWithCharacter(s.defender),s.defender.getDrain(s.currentAttackMove)>0&&!s.defender.checkedDrain)return s.defender.checkedDrain=!0,s.attacker.incrementHealth(s.defender.getDrain(s.currentAttackMove)),void s.applyDefenderStatusEffectDamage();s.defender.getDrain(s.currentAttackMove)>0&&!s.attacker.checkedDrain?(s.attacker.checkedDrain=!0,s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.defender==s.opponent?"enemyDrained":"drained").replace("%name%",s.defender.displayName))):s.defender.curHealth>0&&(s.defender.getStatEffect("attack").checkNew()?s.defender.getStatEffect("attack").maxedOut?s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("statMaxed")):(s.statusSound="statDown",s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.defender==s.opponent?"enemyStatDecrease":"statDecrease").replace("%name%",s.defender.displayName).replace("%statName%",e.GameWorld.constants.getOneLinerWithID("statAttack")))):s.defender.getStatEffect("defense").checkNew()?s.defender.getStatEffect("defense").maxedOut?s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("statMaxed")):(s.statusSound="statDown",s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.defender==s.opponent?"enemyStatDecrease":"statDecrease").replace("%name%",s.defender.displayName).replace("%statName%",e.GameWorld.constants.getOneLinerWithID("statDefense")))):s.defender.getStatEffect("evasion").checkNew()?s.defender.getStatEffect("evasion").maxedOut?s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("statMaxed")):(s.statusSound="statDown",s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.defender==s.opponent?"enemyStatDecrease":"statDecrease").replace("%name%",s.defender.displayName).replace("%statName%",e.GameWorld.constants.getOneLinerWithID("statEvasion")))):s.defender.getStatEffect("accuracy").checkNew()?s.defender.getStatEffect("accuracy").maxedOut?s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("statMaxed")):(s.statusSound="statDown",s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.defender==s.opponent?"enemyStatDecrease":"statDecrease").replace("%name%",s.defender.displayName).replace("%statName%",e.GameWorld.constants.getOneLinerWithID("statAccuracy")))):null!=s.defender.getStatusEffect("paralyze")&&s.defender.getStatusEffect("paralyze").checkNew()?s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.defender==s.opponent?"enemyBecameParalyzed":"becameParalyzed").replace("%name%",s.defender.displayName)):null!=s.defender.getStatusEffect("confuse")&&s.defender.getStatusEffect("confuse").checkNew()?s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.defender==s.opponent?"enemyBecameConfused":"becameConfused").replace("%name%",s.defender.displayName)):null!=s.defender.getStatusEffect("trap")&&s.defender.getStatusEffect("trap").checkNew()?s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.defender==s.opponent?"enemyBecameTrapped":"becameTrapped").replace("%name%",s.defender.displayName)):null!=s.defender.getStatusEffect("poison")&&s.defender.getStatusEffect("poison").checkNew()?(s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.defender==s.opponent?"enemyBecamePoisoned":"becamePoisoned").replace("%name%",s.defender.displayName)),s.defender.noEffectCheck=!0):!s.defender.noEffectCheck&&0==s.currentAttackMove.baseDamage&&s.currentAttackMove.poison>0&&(s.defender.noEffectCheck=!0,s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("statusNotEffected")))),""!=s.statusSound&&(e.GameWorld.soundManager.playSound(s.statusSound),s.statusSound=""),s.dialogBox.isDone()?(s.attacker.checkedDrain=!1,s.defender.checkedDrain=!1,s.checkAttackerStatusEffects()):(s.dialogBox.updateText(),s.dialogBox.setNextClickCallback(s.applyDefenderStatusEffectDamage))},s.applyDefenderStatusEffectDamage=function(){console.log("apply defender status effect damage");var t=s.attacker==s.player?s.playerBattleInfo.healthBar:s.opponentBattleInfo.healthBar,e=s.defender==s.player?s.playerBattleInfo.healthBar:s.opponentBattleInfo.healthBar;s.defender.curHealth<s.defender.prevHealth&&s.defender.playFrame(s.defender.getFrame("damage")),s.attacker.curHealth/s.attacker.maxHealth!=t.scaleX?t.updateHealth(s.attacker,s.checkDefenderStatusEffects):s.defender.curHealth/s.defender.maxHealth!=e.scaleX?e.updateHealth(s.defender,s.checkDefenderStatusEffects):s.checkDefenderStatusEffects()},s.checkAttackerStatusEffects=function(){console.log("check attacker status effects"),s.dialogBox.updateGenderPronounsWithCharacter(s.attacker),s.attacker.getStatEffect("attack").checkNew()?s.attacker.getStatEffect("attack").maxedOut?s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("statMaxed")):(s.statusSound="statUp",s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.attacker==s.opponent?"enemyStatIncrease":"statIncrease").replace("%name%",s.attacker.displayName).replace("%statName%",e.GameWorld.constants.getOneLinerWithID("statAttack")))):s.attacker.getStatEffect("defense").checkNew()?s.attacker.getStatEffect("defense").maxedOut?s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("statMaxed")):(s.statusSound="statUp",s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.attacker==s.opponent?"enemyStatIncrease":"statIncrease").replace("%name%",s.attacker.displayName).replace("%statName%",e.GameWorld.constants.getOneLinerWithID("statDefense")))):s.attacker.getStatEffect("evasion").checkNew()?s.attacker.getStatEffect("evasion").maxedOut?s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("statMaxed")):(s.statusSound="statUp",s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.attacker==s.opponent?"enemyStatIncrease":"statIncrease").replace("%name%",s.attacker.displayName).replace("%statName%",e.GameWorld.constants.getOneLinerWithID("statEvasion")))):s.attacker.getStatEffect("accuracy").checkNew()?s.attacker.getStatEffect("accuracy").maxedOut?s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("statMaxed")):(s.statusSound="statUp",s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.attacker==s.opponent?"enemyStatIncrease":"statIncrease").replace("%name%",s.attacker.displayName).replace("%statName%",e.GameWorld.constants.getOneLinerWithID("statAccuracy")))):s.attacker.getRecoil(s.currentAttackMove)<0&&!s.attacker.checkedRecoil?(s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.attacker==s.opponent?"enemyRecoilDamage":"recoilDamage").replace("%name%",s.attacker.displayName)),s.attacker.checkedRecoil=!0,s.attacker.applyDamageEffects("recoil",s.currentAttackMove)):s.defender.curHealth>0&&(s.attacker.checkStatusEffect("trap")?(s.statusSound="trap",s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.attacker==s.opponent?"enemyIsTrapped":"isTrapped").replace("%name%",s.attacker.displayName)),s.attacker.applyDamageEffects("trap",s.currentAttackMove)):s.attacker.checkStatusEffect("poison")&&(s.statusSound="poison",s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(s.attacker==s.opponent?"enemyIsPoisoned":"isPoisoned").replace("%name%",s.attacker.displayName)),s.attacker.applyDamageEffects("poison",s.currentAttackMove))),s.dialogBox.isDone()?(s.attacker.checkedRecoil=!1,s.checkBattleConditions()):(s.dialogBox.setNextClickCallback(s.applyAttackerStatusEffectDamage),s.dialogBox.updateText())},s.applyAttackerStatusEffectDamage=function(){var t=s.attacker==s.player?s.playerBattleInfo.healthBar:s.opponentBattleInfo.healthBar,a=s.defender==s.player?s.playerBattleInfo.healthBar:s.opponentBattleInfo.healthBar;s.attacker.curHealth<s.attacker.prevHealth&&s.attacker.playFrame(s.attacker.getFrame("damage")),""!=s.statusSound&&(e.GameWorld.soundManager.playSound(s.statusSound),s.statusSound=""),s.attacker.curHealth/s.attacker.maxHealth!=t.scaleX?t.updateHealth(s.attacker,s.checkAttackerStatusEffects):s.defender.curHealth/s.defender.maxHealth!=a.scaleX?a.updateHealth(s.defender,s.checkAttackerStatusEffects):s.checkAttackerStatusEffects()},s.checkLose=function(){console.log("check lose"),s.player.faint(),s.setMaskEnabled(s.playerMask,!0,s.player),s.updatePokemon();for(var t=!1,a=0;a<s.gameworld.player.pokemon.length;a++)s.gameworld.player.pokemon[a].curHealth>0&&(t=!0);t?s.choosePokemon():(s.setAdvanceDialogEnabled(!0),s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("allFaint")),s.dialogBox.updateText(),s.dialogBox.setNextClickCallback(s.gameOver))},s.gameOver=function(){s.gameworld._setState(s.gameworld.GAMESTATE_GAME_OVER)},s.choosePokemon=function(){s.gameworld.enableHelpButton(!1),1==s.gameworld.player.pokemon.length?(e.GameWorld.soundManager.playSound("error"),s.dialogBox.gotoAndStop("dialogOnly"),s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("noMorePokemon")),s.dialogBox.updateText(),s.setAdvanceDialogEnabled(!0),s.dialogBox.setNextClickCallback(s.gotoBattleMenu)):s._setState(s.BATTLESTATE_SWITCH_POKEMON)},s.back=function(){s.battleState==s.BATTLESTATE_SWITCH_POKEMON?s._setState(s.BATTLESTATE_MENU):s.battleState==s.BATTLESTATE_POKEMON_DETAIL?s._setState(s.BATTLESTATE_SWITCH_POKEMON):s.battleState==s.BATTLESTATE_FIGHT_MENU&&s._setState(s.BATTLESTATE_MENU)},s.viewPokemonStats=function(){s.statsScreen=new e.Stats(s.gameworld.player.pokemon[s.sendOutPokemon],_assertThisInitialized(s),s.scene),s.add(s.statsScreen)},s.sendPokemonIn=function(){var t=s.gameworld.player.pokemon[s.sendOutPokemon];s.dialogBox.gotoAndStop("dialogOnly"),s.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("sendPokemonOut").replace("%pokemon%",t.displayName)),s.dialogBox.updateText(),s.setAdvanceDialogEnabled(!0),s.dialogBox.setNextClickCallback(s.startTransition)},s.startTransition=function(){s.transitionEffect.fadeOut(s.player.animationClip.getMainCharacterSprite(),s.midTransition)},s.midTransition=function(){s.transitionEffect.playTransition(),s.transitionEffect.fadeIn(s.player.animationClip.getMainCharacterSprite(),s.endTransition),e.GameWorld.soundManager.playSound("switchPokemon"),s.player.curHealth>0&&!s.lastBattleOneOff&&s.queueMove(s.opponent.getRandomMove()),s.player.unloadMovieClip(),s.gameworld.player.getCurrentPokemon()._swap(s.player),s.gameworld.player.currentPokemon=s.sendOutPokemon,s.dialogBox.updatePokemonDictionary(s.gameworld.player),s.player._swap(s.gameworld.player.getCurrentPokemon()),s.player.reset(),s.player.loadMovieClip(),s.updateBattleInfo(),s.lastBattleOneOff=!1},s.endTransition=function(){s.checkQueue()},s.setPokemonName=function(){var t=s.dialogBox.getNewPokemonName();s.opponentPokemon.displayName=t,s.gameworld.player.pokemon.push(s.opponentPokemon),s.dialogBox.updatePokemonDictionary(s.gameworld.player),s._setState(s.BATTLESTATE_POKEMON_DIALOG)},s.gotoBattleMenu=function(){s._setState(s.BATTLESTATE_MENU)},s.checkGameWin=function(){s.setMaskEnabled(s.opponentMask,!0,s.opponent),s.opponent.faint(),s.setAdvanceDialogEnabled(!1),"pikachu"==s.opponent.dropsPokemon?s.gameworld._setState(s.gameworld.GAMESTATE_MAP):s._setState(s.BATTLESTATE_GET_POKEMON)},s.appearDone=function(){s.setMaskEnabled(s.playerMask,!1,s.opponentPokemon)},s.attackButtons=new Array,s.pokemonButtons=new Array,s.battleQueue=new Array,s.transitionEffect=new e.TransitionEffect(s.scene),s.initializeView(),s.opponentPokemon.visible=!1,s.attackButtons.push(s.dialogBox.attackButton1),s.attackButtons.push(s.dialogBox.attackButton2),s.attackButtons.push(s.dialogBox.attackButton3),s.attackButtons.push(s.dialogBox.attackButton4),s.pokemonButtons.push(s.dialogBox.pokemonButton1),s.pokemonButtons.push(s.dialogBox.pokemonButton2),s.pokemonButtons.push(s.dialogBox.pokemonButton3),s.pokemonButtons.push(s.dialogBox.pokemonButton4),s.advanceDialogButton.setInteractive({cursor:"pointer"}),s.advanceDialogButton.on("pointerup",s.advanceDialog,_assertThisInitialized(s)),s.dialogBox.fightButton.addEventListenerClick(s.fight),s.dialogBox.pokemonButton.addEventListenerClick(s.choosePokemon),s.dialogBox.sendInButton.addEventListenerClick(s.sendPokemonIn),s.dialogBox.statsButton.addEventListenerClick(s.viewPokemonStats),s.dialogBox.backButton.addEventListenerClick(s.back),s.dialogBox.submitButton.addEventListenerClick(s.setPokemonName),s.loadBattle(s.gameworld.player.currentBattle),s.init(),s}return _createClass(i,[{key:"initializeView",value:function(){this.view=new t.assets.fla._BattleManager(this.scene),this.add(this.view),this.background=this.view.background,this.playerMask=this.view.playerMask,this.player=new e.Pokemon(this.scene),this.player.x=this.view.player.x,this.player.y=this.view.player.y,this.view.addAt(this.player,this.view.getIndex(this.view.player)),this.view.remove(this.view.player),this.opponentBattleInfo=new e.OpponentBattleInfo(this.scene),this.opponentBattleInfo.x=this.view.opponentBattleInfo.x,this.opponentBattleInfo.y=this.view.opponentBattleInfo.y,this.view.addAt(this.opponentBattleInfo,this.view.getIndex(this.view.opponentBattleInfo)),this.view.remove(this.view.opponentBattleInfo),this.dialogBox=new e.DialogBox(this.scene),this.dialogBox.x=this.view.dialogBox.x,this.dialogBox.y=this.view.dialogBox.y,this.view.addAt(this.dialogBox,this.view.getIndex(this.view.dialogBox)),this.view.remove(this.view.dialogBox),this.view.dialogBox=this.dialogBox,this.playerBattleInfo=new e.PlayerBattleInfo(this.scene),this.playerBattleInfo.x=this.view.playerBattleInfo.x,this.playerBattleInfo.y=this.view.playerBattleInfo.y,this.view.addAt(this.playerBattleInfo,this.view.getIndex(this.view.playerBattleInfo)),this.view.remove(this.view.playerBattleInfo),this.opponent=new e.Trainer(this.scene),this.opponent.x=this.view.opponent.x,this.opponent.y=this.view.opponent.y,this.view.addAt(this.opponent,this.view.getIndex(this.view.opponent)),this.view.remove(this.view.opponent),this.opponentPokemon=new e.Pokemon(this.scene),this.opponentPokemon.x=this.view.opponentPokemon.x,this.opponentPokemon.y=this.view.opponentPokemon.y,this.view.addAt(this.opponentPokemon,this.view.getIndex(this.view.opponentPokemon)),this.view.remove(this.view.opponentPokemon),this.opponentMask=this.view.opponentMask,this.advanceDialogButton=this.view.advanceDialogButton,this.moveChildren(this.view,this)}},{key:"moveChildren",value:function(t,e){for(;t.getAll().length>0;){var a=t.getAt(t.getAll().length-1);t.remove(a),e.addAt(a,0)}}},{key:"init",value:function(){this.addAt(this.transitionEffect,this.getIndex(this.dialogBox)-1)}},{key:"_destroy",value:function(){this.gameworld.enableHelpButton(!1),this.opponent._destroy(),this.player._destroy(),this.opponentPokemon._destroy(),e.GameWorld.soundManager.playMusic("MusicMap",!0)}},{key:"stopInput",value:function(){this.advanceDialogButton.off("pointerup",this.advanceDialog,this),this.dialogBox.fightButton.removeEventListenerClick(this.fight),this.dialogBox.pokemonButton.removeEventListenerClick(this.choosePokemon),this.dialogBox.sendInButton.removeEventListenerClick(this.sendPokemonIn),this.dialogBox.statsButton.removeEventListenerClick(this.viewPokemonStats),this.dialogBox.backButton.removeEventListenerClick(this.back),this.dialogBox.submitButton.removeEventListenerClick(this.setPokemonName)}},{key:"loadBattle",value:function(t){this.loadXML(e.GameWorld.constants.getBattleWithIndex(t))}},{key:"loadXML",value:function(a){return this.opponent.loadInfo(t.util.XMLParser.getAttribute(a,"opponentID")),this.opponent.loadMovieClip(),"pikachu"==this.opponent.dropsPokemon&&(this.gameworld.player.currentPokemon=0,this.lastBattleOneOff=!0),this.gameworld.player.startBattlePokemon=this.gameworld.player.currentPokemon,this.startDialog=t.util.XMLParser.getAttribute(a,"startTextID"),this.endWinDialog=t.util.XMLParser.getAttribute(a,"winTextID"),this.endLoseDialog=t.util.XMLParser.getAttribute(a,"loseTextID"),this.newPokemonDialog=t.util.XMLParser.getAttribute(a,"pokemonTextID"),this.player._swap(this.gameworld.player.getCurrentPokemon()),this.player.reset(),this.player.loadMovieClip(),this.setupBattleInfo(),this.dialogBox.loadInfo(this.startDialog),this.background.gotoAndStop(t.util.XMLParser.getAttribute(a,"backgroundID")),e.GameWorld.soundManager.playMusic(t.util.XMLParser.getAttribute(a,"music"),!0),a}},{key:"setupBattleInfo",value:function(){this._setState(this.BATTLESTATE_INTRO_DIALOG),null!=this.opponent.dropsPokemon&&this.opponentPokemon.loadInfo(this.opponent.dropsPokemon),this.updateBattleInfo(),this.dialogBox.updatePokemonDictionary(this.gameworld.player),this.dialogBox.replaceString("%opponent%",this.opponent.displayName)}},{key:"updateBattleInfo",value:function(){this.playerBattleInfo.displayName.text=this.player.displayName,this.playerBattleInfo.health.text=this.player.curHealth+" / "+this.player.maxHealth,this.playerBattleInfo.healthBar.scaleX=this.player.curHealth/this.player.maxHealth,this.playerBattleInfo.healthBar.updateScale(),this.opponentBattleInfo.displayName.text=this.opponent.displayName,this.playerBattleInfo.genderGotoAndStop(this.player.gender),this.opponentBattleInfo.genderGotoAndStop(this.opponent.gender)}},{key:"_update",value:function(){this.player&&this.player._update(),this.opponent&&this.opponent._update(),this.opponentPokemon&&this.opponentPokemon._update(),this.transitionEffect._update(),this.dialogBox._update(),this.playerBattleInfo.health.text=Math.round(this.player.maxHealth*this.playerBattleInfo.healthBar.scaleX)+" / "+this.player.maxHealth}},{key:"updatePokemonMoves",value:function(){for(var t=this,e=function(e){e<t.player.moves.length&&(t.attackButtons[e].setType(t.player.moves[e].elementType),t.attackButtons[e].setNumber(e+1),0==t.player.moves[e].curPP?(t.attackButtons[e].removeEventListenerClick(),t.attackButtons[e].setEnabled(!1)):(t.attackButtons[e].addEventListenerClick((function(){return t.performAttack(e)})),t.attackButtons[e].setEnabled(!0)),t.attackButtons[e].ppAmount.text=t.player.moves[e].curPP+"/"+t.player.moves[e].maxPP,t.attackButtons[e].moveName.text=t.player.moves[e].displayName)},a=0;a<this.attackButtons.length;a++)e(a)}},{key:"updatePokemon",value:function(){var t=this;this.gameworld.player.getCurrentPokemon()._swap(this.player);for(var e=function(e){t.pokemonButtons[e].setNumber(e+1),e<t.gameworld.player.pokemon.length?(t.pokemonButtons[e].setType(t.gameworld.player.pokemon[e].elementType),0==t.gameworld.player.pokemon[e].curHealth?(t.pokemonButtons[e].removeEventListenerClick(),t.pokemonButtons[e].setEnabled(!1)):(t.pokemonButtons[e].addEventListenerClick((function(){return t.attemptSwitchPokemon(e)})),t.pokemonButtons[e].setEnabled(!0)),t.pokemonButtons[e].pokemonName.text=t.gameworld.player.pokemon[e].displayName,t.pokemonButtons[e].pokemonHealth.text=t.gameworld.player.pokemon[e].curHealth+"/"+t.gameworld.player.pokemon[e].maxHealth):t.pokemonButtons[e].setEnabled(!1)},a=0;a<this.pokemonButtons.length;a++)e(a)}},{key:"setAdvanceDialogEnabled",value:function(t){t?this.advanceDialogButton.setInteractive({cursor:"pointer"}):this.advanceDialogButton.disableInteractive()}},{key:"setFightMenuEnabled",value:function(t){for(var e=0;e<this.attackButtons.length;e++)e<this.player.moves.length?this.attackButtons[e].visible=t:this.attackButtons[e].visible=!1}},{key:"performAttack",value:function(t){var e=this.player.moves[t];console.log("player performing attack: "+e.displayName);var a=this.opponent.getRandomMove();this.player.applySpeedEffects(e.baseSpeed),this.opponent.applySpeedEffects(a.baseSpeed);e.baseSpeed>=a.baseSpeed?(this.queueMove(e),this.queueMove(a)):(this.queueMove(a),this.queueMove(e)),this.checkQueue()}},{key:"queueMove",value:function(t){this.battleQueue.push(t)}},{key:"checkQueue",value:function(){var t=null;this._setState(this.BATTLESTATE_DIALOG),this.battleQueue.length>0?(this.dialogBox.gotoAndStop("dialogOnly"),this.currentAttackMove=this.battleQueue.shift(),t="",console.log("current attack move: "+this.currentAttackMove.displayName+" --- "+this.currentAttackMove.owner),this.currentAttackMove.owner==this.opponent?(this.attacker=this.opponent,this.defender=this.player,this.remove(this.defender),this.addAt(this.defender,this.getIndex(this.transitionEffect)-1),this.remove(this.attacker),this.addAt(this.attacker,this.getIndex(this.transitionEffect)-1)):(this.attacker=this.player,this.defender=this.opponent,this.remove(this.attacker),this.addAt(this.attacker,this.getIndex(this.transitionEffect)-1),this.remove(this.defender),this.addAt(this.defender,this.getIndex(this.transitionEffect)-1)),this.swap(this.defender,this.getAt(this.getIndex(this.defender)-1)),this.currentAttackMove.owner=this.attacker,this.dialogBox.updateGenderPronounsWithCharacter(this.attacker),this.attacker.preAttack(),this.attacker.isStatusTriggered("paralyze")?t=e.GameWorld.constants.getOneLinerWithID(this.attacker==this.opponent?"enemyIsParalyzed":"isParalyzed").replace("%name%",this.attacker.displayName):this.attacker.isStatusTriggered("confuse")?(this.currentAttackMove=this.attacker.confuseMove,t=e.GameWorld.constants.getOneLinerWithID(this.attacker==this.opponent?"enemyIsConfused":"isConfused").replace("%name%",this.attacker.displayName)):t=e.GameWorld.constants.getOneLinerWithID(this.attacker==this.opponent?"enemyPerformMove":"performMove").replace("%name%",this.attacker.displayName).replace("%move%",this.currentAttackMove.displayName),this.setAdvanceDialogEnabled(!0),this.dialogBox.addLine(t),this.dialogBox.updateText(),this.dialogBox.setNextClickCallback(this.playAttackAnimation)):(this.player.postQueueStatusEffectUpdate(),this.player.isStatusTriggered("confuse")?this.performAttack(Math.floor(Math.random()*this.player.moves.length)):this._setState(this.BATTLESTATE_MENU))}},{key:"attackDodged",value:function(){this.defender.playFrame(this.defender.getFrame("dodge")),this.dialogBox.updateGenderPronounsWithCharacter(this.defender),this.currentAttackMove.usedMove(),this.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID(this.defender==this.player?"avoid":"enemyAvoid").replace("%name%",this.defender.displayName)),this.dialogBox.setNextClickCallback(this.checkAttackerStatusEffects),this.dialogBox.advanceLine(),this.attacker.checkedRecoil=!0}},{key:"checkPostAttackEffects",value:function(){this.defender.getDrain(this.currentAttackMove)>0&&(this.attacker.incrementHealth(this.defender.getDrain(this.currentAttackMove)),(this.attacker==this.player?this.playerBattleInfo.healthBar:this.opponentBattleInfo.healthBar).updateHealth(this.attacker,this.checkDefenderStatusEffects))}},{key:"checkBattleConditions",value:function(){console.log("check battle conditions"),null!=this.currentAttackMove&&(this.currentAttackMove.owner=this.attacker,this.attacker.postAttack()),this.opponent.curHealth<=0?this._setState(this.BATTLESTATE_WIN):this.player.curHealth<=0?(this.battleQueue.splice(0),this.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("faint").replace("%pokemon%",this.player.displayName)),this.dialogBox.updateText(),this.dialogBox.setNextClickCallback(this.checkLose),"cheren"==this.opponent.id?ga("send","event","Game","Die Cheron","Pokémon Black and Blue - Die Cheron"):"juniper"==this.opponent.id?ga("send","event","Game","Die Professor Juniper","Pokémon Black and Blue - Die Professor Juniper"):"ghetsis"==this.opponent.id?ga("send","event","Game","Die Ghetsis","Pokémon Black and Blue - Die Ghetsis"):"ash"==this.opponent.id&&ga("send","event","Game","Die Ash Ketchum","Pokémon Black and Blue - Die Ash Ketchum")):this.checkQueue()}},{key:"setMaskEnabled",value:function(t,e,a){e?(t.x=0,t.y=0,a.setMask(t.createGeometryMask())):(t.x=600,t.y=600,a.setMask(null))}},{key:"attemptSwitchPokemon",value:function(t){t==this.gameworld.player.currentPokemon?(this.dialogBox.gotoAndStop("dialogOnly"),this.setAdvanceDialogEnabled(!0),this.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("alreadyInBattle").replace("%pokemon%",this.player.displayName)),this.dialogBox.updateText(),this.dialogBox.setNextClickCallback(this.gotoBattleMenu)):(this.sendOutPokemon=t,this._setState(this.BATTLESTATE_POKEMON_DETAIL))}},{key:"closeStats",value:function(){this.remove(this.statsScreen),this.statsScreen=null}},{key:"_setState",value:function(t){switch(console.log("setting new state: "+t+" --- old state: "+this.battleState),this.gameworld.enableHelpButton(!1),t){case this.BATTLESTATE_INTRO_DIALOG:break;case this.BATTLESTATE_MENU:this.gameworld.helpShown||(this.gameworld.showHelp(),this.gameworld.helpShown=!0),this.setMaskEnabled(this.playerMask,!1,this.player),this.setMaskEnabled(this.opponentMask,!1,this.opponent),this.gameworld.enableHelpButton(!0),this.dialogBox.gotoAndStop("mainMenu"),this.setAdvanceDialogEnabled(!1),this.dialogBox.setText(e.GameWorld.constants.getOneLinerWithID("waitForAction").replace("%pokemon%",this.player.displayName));break;case this.BATTLESTATE_WIN:this.opponentBattleInfoTween=this.scene.tweens.add({targets:this.opponentBattleInfo,x:this.opponentBattleInfo.x-400,duration:500,ease:Phaser.Math.Easing.Linear}),this.playerBattleInfoTween=this.scene.tweens.add({targets:this.playerBattleInfo,x:this.playerBattleInfo.x+400,duration:500,ease:Phaser.Math.Easing.Linear}),this.opponent.stopFrame("defeat"),this.updatePokemon(),e.GameWorld.soundManager.playMusic("MusicWin",!0),this.dialogBox.gotoAndStop("dialogOnly"),this.dialogBox.loadInfo(this.endWinDialog),this.dialogBox.addLine(e.GameWorld.constants.getOneLinerWithID("enemyFaint").replace("%name%",this.opponent.displayName)),this.dialogBox.setNextClickCallback(this.checkGameWin),"pikachu"==this.opponent.dropsPokemon&&"pikachu"!=this.player.id&&(this.opponentPokemon.x=this.opponentPokemon.x+25,this.opponentPokemon.visible=!0,this.opponentPokemon.loadMovieClip(),this.setMaskEnabled(this.playerMask,!0,this.opponentPokemon),this.opponentPokemon.appear(this.appearDone),this.remove(this.opponentPokemon),this.addAt(this.opponentPokemon,this.getIndex(this.player)+1)),"cheren"==this.opponent.id?ga("send","event","Game","Win Cheron","Pokémon Black and Blue - Win Cheron"):"juniper"==this.opponent.id?ga("send","event","Game","Win Professor Juniper","Pokémon Black and Blue - Win Professor Juniper"):"ghetsis"==this.opponent.id?ga("send","event","Game","Win Ghetsis","Pokémon Black and Blue - Win Ghetsis"):"ash"==this.opponent.id&&ga("send","event","Game","Win Ash Ketchum","Pokémon Black and Blue - Win Ash Ketchum");break;case this.BATTLESTATE_GET_POKEMON:this.opponentPokemon.visible=!0,this.opponentPokemon.loadMovieClip(),this.setMaskEnabled(this.playerMask,!0,this.opponentPokemon),this.opponentPokemon.appear(this.appearDone),this.remove(this.opponentPokemon),this.addAt(this.opponentPokemon,this.getIndex(this.player)+1),this.dialogBox.gotoAndStop("pokemonGet"),this.dialogBox.setNewPokemonName(this.opponentPokemon.displayName),this.dialogBox.setText(e.GameWorld.constants.getOneLinerWithID("namePokemon").replace("%pokemon%",this.opponentPokemon.displayName));break;case this.BATTLESTATE_POKEMON_DIALOG:this.dialogBox.gotoAndStop("dialogOnly"),this.dialogBox.loadInfo(this.newPokemonDialog),this.setAdvanceDialogEnabled(!0);break;case this.BATTLESTATE_SWITCH_POKEMON:this.dialogBox.backButton.visible=this.player.curHealth>0&&!this.lastBattleOneOff,this.setAdvanceDialogEnabled(!1),this.dialogBox.gotoAndStop("switchPokemon"),this.updatePokemon();break;case this.BATTLESTATE_POKEMON_DETAIL:this.dialogBox.gotoAndStop("confirmPokemon"),this.dialogBox.backButton.visible=!0,this.setAdvanceDialogEnabled(!1),this.dialogBox.pokemonName.text=this.gameworld.player.pokemon[this.sendOutPokemon].displayName;break;case this.BATTLESTATE_FIGHT_MENU:this.dialogBox.gotoAndStop("fight"),this.setAdvanceDialogEnabled(!1),this.setFightMenuEnabled(!0),this.updatePokemonMoves()}this.battleState=t}}]),i}(t.code.Screen);e.BattleManager=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,Phaser.GameObjects.Container);var n=_createSuper(i);function i(t){var e;return _classCallCheck(this,i),(e=n.call(this,t)).maxHealth=0,e.curHealth=0,e.prevHealth=0,e.gender="",e.displayName="",e.elementType="Normal",e.lastDamageReceived=0,e.lastDamageDealt=0,e.evasion=0,e.id="",e.animationClip=null,e.curAnimation="ready",e.curAnimationCallback=null,e.noEffectCheck=!1,e.isAddedEventListener_ENTER_FRAME=!1,e.appearDone=function(){null!=e.appearCallback&&e.appearCallback(),e.appearCallback=null},e.moves=new Array,e.statusEffects=new Array,e.statEffects=new Array,e.animationFrames=new Object,e.initY=e.y,e}return _createClass(i,[{key:"loadFromXML",value:function(a){var n=null;this.maxHealth=Number(t.util.XMLParser.getAttribute(a,"health")),this.curHealth=this.maxHealth,this.prevHealth=this.curHealth,this.gender=t.util.XMLParser.getAttribute(a,"gender"),this.displayName=t.util.XMLParser.getAttribute(a,"displayName"),this.elementType=t.util.XMLParser.getAttribute(a,"type"),this.id=t.util.XMLParser.getAttribute(a,"id"),this.swfName=t.util.XMLParser.getAttribute(a,"swfName"),this.statusEffects.splice(0);var i=t.util.XMLParser.getAttribute(a,"readyFrame");isEmpty(i)?(this.animationFrames.ready=null,this.animationFrames.damage=null,this.animationFrames.dodge=null):(this.animationFrames.ready=i,this.animationFrames.damage=t.util.XMLParser.getAttribute(a,"damageFrame"),this.animationFrames.dodge=t.util.XMLParser.getAttribute(a,"dodgeFrame"));var o=t.util.XMLParser.getAttribute(a,"evasion");isEmpty(o)||(this.evasion=Number(o)),this.moves.splice(0);var s,r=t.util.XMLParser.getChildNode(a,"moves"),l=_createForOfIteratorHelper(t.util.XMLParser.getChildNode(r,"move"));try{for(l.s();!(s=l.n()).done;){var c=s.value;(n=new e.AttackMove(c,this.scene)).owner=this,this.moves.push(n)}}catch(t){l.e(t)}finally{l.f()}return this.confuseMove=new e.AttackMove(e.GameWorld.constants.getObjectWithID("confusion","statusEffects"),this.scene),this.resetStatEffects(),a}},{key:"_destroy",value:function(){this.unloadMovieClip()}},{key:"getSWF",value:function(e){return"trainers/animation_asset_cheren.swf"==e?new t.assets.swf.character._Animation_asset_cherenSWF(this.scene):"trainers/animation_asset_profjuniper.swf"==e?new t.assets.swf.character._Animation_asset_profjuniperSWF(this.scene):"trainers/animation_asset_ghetsis.swf"==e?new t.assets.swf.character._Animation_asset_ghetsisSWF(this.scene):"trainers/animation_asset_ash.swf"==e?new t.assets.swf.character._Animation_asset_ashSWF(this.scene):"pokemon/animation_asset_pikachu.swf"==e?new t.assets.swf.character._Animation_asset_pikachuSWF(this.scene):"pokemon/animation_asset_tepig.swf"==e?new t.assets.swf.character._Animation_asset_tepigSWF(this.scene):"pokemon/animation_asset_snivy.swf"==e?new t.assets.swf.character._Animation_asset_snivySWF(this.scene):"pokemon/animation_asset_oshawott.swf"==e?new t.assets.swf.character._Animation_asset_oshawottSWF(this.scene):null}},{key:"loadMovieClip",value:function(){this.animationClip=this.getSWF(this.swfName),this.playFrame(this.getFrame("ready")),this.add(this.animationClip),this.isAddedEventListener_ENTER_FRAME=!0}},{key:"unloadMovieClip",value:function(){null!=this.animationClip&&(this.remove(this.animationClip),this.stopFrame(this.getFrame("ready"))),this.isAddedEventListener_ENTER_FRAME=!1}},{key:"getFrame",value:function(t){return this.animationFrames[t]}},{key:"playFrame",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("playing frame: "+t+" --- "+this.displayName+" --- "+name),this.curAnimation=t,this.curAnimationCallback=e,this.animationClip.gotoAndPlay(t)}},{key:"stopFrame",value:function(t){this.curAnimation=t,this.animationClip.gotoAndStop(t)}},{key:"_update",value:function(){this.isAddedEventListener_ENTER_FRAME&&null!=this.animationClip&&null!=this.getFrame("ready")&&this.animationClip.isDonePlayingCurrentLabel()&&this.curAnimation!=this.animationClip.getCurrentPlayingLabel()&&(console.log("done playing frame: "+this.curAnimation),null!=this.curAnimationCallback&&this.curAnimationCallback(),this.curAnimation!=this.getFrame("defeat")&&this.playFrame(this.getFrame("ready")))}},{key:"applyAttack",value:function(t){t.applyStatusEffects(this);var a=t.owner.applyStat("attack",t.baseDamage)/this.getStatFactor("defense");a*=e.GameWorld.constants.getWeaknessResistanceFactor(t.elementType,this.elementType),a=Math.floor(a),this.incrementHealth(-a),this.lastDamageReceived=a,t.owner.lastDamageDealt=a,t.applyStatEffects(this),t.usedMove()}},{key:"applyConfuse",value:function(t){this.incrementHealth(-t.baseDamage),this.lastDamageReceived=t.baseDamage}},{key:"didEvadeAttack",value:function(t){var e=this.applyStat("evasion",100-this.evasion);return 100*Math.random()>e}},{key:"applyStat",value:function(t,e){return this.getStatEffect(t).applyEffect(e)}},{key:"getStatFactor",value:function(t){return this.getStatEffect(t).getEffectFactor()}},{key:"incrementStat",value:function(t,e){this.getStatEffect(t).incrementLevel(e)}},{key:"getRecoil",value:function(t){return-Math.floor(this.lastDamageDealt*t.recoil)}},{key:"getDrain",value:function(t){return Math.floor(this.lastDamageReceived*t.drain)}},{key:"_swap",value:function(t){this.maxHealth=t.maxHealth,this.curHealth=t.curHealth,this.gender=t.gender,this.animationFrames=t.animationFrames,this.displayName=t.displayName,this.moves=t.moves,this.confuseMove=t.confuseMove,this.statusEffects=t.statusEffects,this.statEffects=t.statEffects,this.evasion=t.evasion,this.swfName=t.swfName,this.elementType=t.elementType,this.id=t.id}},{key:"preAttack",value:function(){this.noEffectCheck=!1;var t,e=_createForOfIteratorHelper(this.statusEffects);try{for(e.s();!(t=e.n()).done;){t.value.preAttack()}}catch(t){e.e(t)}finally{e.f()}var a,n=_createForOfIteratorHelper(this.statEffects);try{for(n.s();!(a=n.n()).done;){a.value.preAttack()}}catch(t){n.e(t)}finally{n.f()}}},{key:"postAttack",value:function(){var t=NaN;this.lastDamageReceived=0;var e,a=_createForOfIteratorHelper(this.statusEffects);try{for(a.s();!(e=a.n()).done;){e.value.postAttack()}}catch(t){a.e(t)}finally{a.f()}for(t=0;t<this.statusEffects.length;t++)this.statusEffects[t].turnsLeft<=0&&(this.statusEffects.splice(t,1),t--);var n,i=_createForOfIteratorHelper(this.statEffects);try{for(i.s();!(n=i.n()).done;){n.value.postAttack()}}catch(t){i.e(t)}finally{i.f()}}},{key:"postQueueStatusEffectUpdate",value:function(){var t,e=_createForOfIteratorHelper(this.statusEffects);try{for(e.s();!(t=e.n()).done;)t.value.postQueueStatusEffectUpdate()}catch(t){e.e(t)}finally{e.f()}}},{key:"getRandomMove",value:function(){var t=null,e=0;do{t=this.moves[Math.floor(Math.random()*this.moves.length)],e++}while(t.curPP<=0||e>=5);return t}},{key:"isStatusTriggered",value:function(t){var e,a=_createForOfIteratorHelper(this.statusEffects);try{for(a.s();!(e=a.n()).done;){var n=e.value;if(n.type==t)return n.triggered}}catch(t){a.e(t)}finally{a.f()}return!1}},{key:"addStatusEffect",value:function(t){for(var a=null,n=null,i=null,o=null,s=0;s<this.statusEffects.length;s++)if(this.statusEffects[s].type==t)return;"paralyze"==t?(a=new e.Paralyze,this.statusEffects.push(a)):"confuse"==t?(n=new e.Confusion,this.statusEffects.push(n)):"trap"==t?(i=new e.Trap,this.statusEffects.push(i)):"poison"==t&&(o=new e.Poison,this.statusEffects.push(o))}},{key:"getStatusEffect",value:function(t){var e,a=null,n=_createForOfIteratorHelper(this.statusEffects);try{for(n.s();!(e=n.n()).done;)if((a=e.value).type==t)return a}catch(t){n.e(t)}finally{n.f()}return null}},{key:"getStatEffect",value:function(t){var e,a=null,n=_createForOfIteratorHelper(this.statEffects);try{for(n.s();!(e=n.n()).done;)if((a=e.value).type==t)return a}catch(t){n.e(t)}finally{n.f()}return null}},{key:"checkStatusEffect",value:function(t){var e=null;return!(!this.isStatusTriggered(t)||(e=this.getStatusEffect(t)).checked)&&(e.checked=!0,!0)}},{key:"applySpeedEffects",value:function(t){var e=null;return this.isStatusTriggered("paralyze")&&(e=this.getStatusEffect("paralyze"),t=Math.floor(t*e.speedMod)),t}},{key:"applyDamageEffects",value:function(t,e){var a=null,n=null;"trap"==t?(a=this.getStatusEffect("trap"),this.incrementHealth(-Math.floor(this.maxHealth*a.percentHealth))):"poison"==t?(n=this.getStatusEffect("poison"),this.incrementHealth(-Math.floor(this.maxHealth*n.percentHealth))):"recoil"==t&&this.incrementHealth(this.getRecoil(e))}},{key:"incrementHealth",value:function(t){this.prevHealth=this.curHealth,this.curHealth=this.curHealth+t,this.curHealth=Math.min(this.curHealth,this.maxHealth),this.curHealth=Math.max(this.curHealth,0)}},{key:"faint",value:function(){this.alpha=1,this.faintFadeTween=this.scene.tweens.add({targets:this,alpha:0,duration:500}),this.faintMoveTween=this.scene.tweens.add({targets:this,y:this.y+200,duration:500}),this.initY=this.y}},{key:"appear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.appearCallback=t,this.alpha=0,this.appearFadeTween=this.scene.tweens.add({targets:this,alpha:1,duration:500,onComplete:this.appearDone}),this.y=this.initY+200,this.appearMoveTween=this.scene.tweens.add({targets:this,y:this.initY,duration:500})}},{key:"reset",value:function(){this.y=this.initY,this.alpha=1,this.statusEffects.splice(0),this.resetStatEffects()}},{key:"resetStatEffects",value:function(){this.statEffects.splice(0),this.statEffects.push(new e.EvasionStatEffect),this.statEffects.push(new e.AccuracyStatEffect),this.statEffects.push(new e.MainStatEffect("attack")),this.statEffects.push(new e.MainStatEffect("defense"))}}]),i}();e.Character=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(){function t(){_classCallCheck(this,t),this.turnsLeft=0,this.triggered=!1,this.isNew=!1,this.checked=!1,this.isNew=!0}return _createClass(t,[{key:"preAttack",value:function(){this.checked=!1}},{key:"postAttack",value:function(){this.turnsLeft--}},{key:"postQueueStatusEffectUpdate",value:function(){}},{key:"checkNew",value:function(){return!!this.isNew&&(this.isNew=!1,!0)}}]),t}();t.StatusEffect=e}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(){var t;return _classCallCheck(this,a),(t=e.call(this)).chance=50,t.checkedConfusion=!1,t.type="confuse",t.turnsLeft=Math.floor(3*Math.random())+1,t}return _createClass(a,[{key:"preAttack",value:function(){_get(_getPrototypeOf(a.prototype),"preAttack",this).call(this),this.triggerConfusion()}},{key:"postAttack",value:function(){_get(_getPrototypeOf(a.prototype),"postAttack",this).call(this),this.checkedConfusion=!1}},{key:"postQueueStatusEffectUpdate",value:function(){this.triggerConfusion()}},{key:"triggerConfusion",value:function(){this.checkedConfusion||(100*Math.random()<=this.chance?this.triggered=!0:this.triggered=!1,console.log("confusion triggered: "+this.triggered),this.checkedConfusion=!0)}}]),a}(t.StatusEffect);t.Confusion=e}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getTrainerWithID",value:function(t){return this.getObjectWithID(t,"trainers")}},{key:"getPokemonWithID",value:function(t){return this.getObjectWithID(t,"pokemons")}},{key:"getBattleWithID",value:function(t){return this.getObjectWithID(t,"battles")}},{key:"getBattleWithIndex",value:function(t){return this.getObjectWithIndex(t,"battles")}},{key:"getMapWithID",value:function(t){return this.getObjectWithID(t,"maps")}},{key:"getMapWithIndex",value:function(t){return this.getObjectWithIndex(t,"maps")}},{key:"getTreasureWithID",value:function(t){return this.getObjectWithID(t,"treasures")}},{key:"getTreasureWithIndex",value:function(t){return this.getObjectWithIndex(t,"treasures")}},{key:"getTextWithID",value:function(t){return this.getObjectWithID(t,"texts")}},{key:"getConfig",value:function(){return t.util.XMLParser.getChildNode(this.xml,"config")}},{key:"getElementWithName",value:function(e){return t.util.XMLParser.getChildNode(this.xml,e)}},{key:"getOneLinerWithID",value:function(e){var a=this.getTextWithID(e),n=t.util.XMLParser.getChildNode(a,"line");return t.util.XMLParser.getAttribute(n,"string").split("\\n").join("\n")}},{key:"getChildNodesArray",value:function(e){for(var a=Array.prototype.slice.call(t.util.XMLParser.getChildNode(this.xml,e)[0].childNodes),n=a.length-1;n>=0;n--)"#text"==a[n].nodeName&&a.splice(n,1);return a}},{key:"getObjectWithID",value:function(e,a){var n,i=_createForOfIteratorHelper(this.getChildNodesArray(a));try{for(i.s();!(n=i.n()).done;){var o=n.value;if(t.util.XMLParser.getAttribute(o,"id")==e)return o}}catch(t){i.e(t)}finally{i.f()}return null}},{key:"getObjectWithIndex",value:function(t,e){var a=this.getChildNodesArray(e);return t<a.length?a[t]:a[0]}},{key:"getWeaknessResistanceFactor",value:function(t,e){if(console.log("getting weakness resistance factor: "+t+" --- defend: "+e),"normal"==t){if("rock"==e)return.5;if("ghost"==e)return 0;if("steel"==e)return.5}else if("fire"==t){if("fire"==e)return.5;if("water"==e)return.5;if("grass"==e)return 2;if("ice"==e)return 2;if("bug"==e)return 2;if("rock"==e)return.5;if("dragon"==e)return.5;if("steel"==e)return 2}else if("water"==t){if("fire"==e)return 2;if("water"==e)return.5;if("grass"==e)return.5;if("ground"==e)return 2;if("rock"==e)return 2;if("dragon"==e)return.5}else if("grass"==t){if("fire"==e)return.5;if("water"==e)return 2;if("grass"==e)return.5;if("poison"==e)return.5;if("ground"==e)return 2;if("flying"==e)return.5;if("bug"==e)return.5;if("rock"==e)return 2;if("dragon"==e)return.5;if("steel"==e)return.5}else if("electric"==t){if("water"==e)return 2;if("grass"==e)return.5;if("electric"==e)return.5;if("ground"==e)return 0;if("flying"==e)return 2;if("dragon"==e)return.5}else if("ice"==t){if("fire"==e)return.5;if("water"==e)return.5;if("grass"==e)return 2;if("ice"==e)return.5;if("ground"==e)return 2;if("flying"==e)return 2;if("dragon"==e)return 2;if("steel"==e)return.5}else if("fighting"==t){if("normal"==e)return 2;if("ice"==e)return 2;if("poison"==e)return.5;if("flying"==e)return.5;if("psychic"==e)return.5;if("bug"==e)return.5;if("rock"==e)return 2;if("ghost"==e)return 0;if("dark"==e)return 2;if("steel"==e)return 2}else if("poison"==t){if("grass"==e)return 2;if("poison"==e)return.5;if("ground"==e)return.5;if("rock"==e)return.5;if("ghost"==e)return.5;if("steel"==e)return 0}else if("ground"==t){if("fire"==e)return 2;if("grass"==e)return.5;if("electric"==e)return 2;if("poison"==e)return 2;if("flying"==e)return 0;if("bug"==e)return.5;if("rock"==e)return 2;if("steel"==e)return 2}else if("flying"==t){if("grass"==e)return 2;if("electric"==e)return.5;if("fighting"==e)return 2;if("bug"==e)return 2;if("rock"==e)return.5;if("steel"==e)return.5}else if("psychic"==t){if("fighting"==e)return 2;if("poison"==e)return 2;if("psychic"==e)return.5;if("dark"==e)return 0;if("steel"==e)return.5}else if("bug"==t){if("fire"==e)return.5;if("grass"==e)return 2;if("fighting"==e)return.5;if("poison"==e)return.5;if("flying"==e)return.5;if("psychic"==e)return 2;if("ghost"==e)return.5;if("dark"==e)return 2;if("steel"==e)return.5}else if("rock"==t){if("fire"==e)return 2;if("ice"==e)return 2;if("fighting"==e)return.5;if("ground"==e)return.5;if("flying"==e)return 2;if("bug"==e)return 2;if("steel"==e)return.5}else if("ghost"==t){if("normal"==e)return 0;if("psychic"==e)return 2;if("ghost"==e)return 2;if("dark"==e)return.5;if("steel"==e)return.5}else if("dragon"==t){if("dragon"==e)return 2;if("steel"==e)return.5}else if("dark"==t){if("fighting"==e)return.5;if("psychic"==e)return 2;if("ghost"==e)return 2;if("dark"==e)return.5;if("steel"==e)return.5}else if("steel"==t){if("fire"==e)return.5;if("water"==e)return.5;if("electric"==e)return.5;if("ice"==e)return 2;if("rock"==e)return 2;if("steel"==e)return.5}return 1}},{key:"setText",value:function(t,e){t.textLabel.text=e}},{key:"getColorForElement",value:function(t){return"grass"==t?3064357:"electric"==t?10919680:"fire"==t?16720896:"water"==t?1756407:0}},{key:"getHTMLColorForElement",value:function(t){return"grass"==t?"#2EC225":"electric"==t?"#A69F00":"fire"==t?"#FF2400":"water"==t?"#1ACCF7":"peta"==t?"#FA09AE":"#000000"}},{key:"getPetaLogo",value:function(){var e=null,a=this.getConfig();if("useURLOfSite"==t.util.XMLParser.getAttribute(a[0],"overrideLogo")){if(null!=(e=window.location.href.toString())){if(-1!=e.indexOf("kids"))return"petaKids";if(-1!=e.indexOf("peta")&&-1!=e.indexOf("2"))return"peta2";if(-1!=e.indexOf("peta"))return"peta"}return"petaPresents"}return t.util.XMLParser.getAttribute(a[0],"overrideLogo")}},{key:"getPetaURL",value:function(){var t=window.location.href.toString();return null!=t?t.substr(0,t.lastIndexOf("/")+1):"http://features.peta.org/Pokemon-black-and-white-parody/"}},{key:"getTreasureLink",value:function(e){var a=this.getConfig();return a&&a[0]&&"true"==t.util.XMLParser.getAttribute(a[0],"treasuresUseURLOfCurrentSite")?this.getPetaURL()+t.util.XMLParser.getAttribute(this.getTreasureWithID(e),"link"):t.util.XMLParser.getAttribute(this.getTreasureWithID(e),"link")}}]),e}();e.Constants=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,a);var n=_createSuper(i);function i(t,a){var o;return _classCallCheck(this,i),(o=n.call(this,t,a)).gotoBack=function(){o.gameworld._setState(o.gameworld.GAMESTATE_GAME_WIN)},o.initializeView(),e.GameWorld.constants.setText(o.backButton,e.GameWorld.constants.getOneLinerWithID("backButton")),o.backButton.addEventListenerClick(o.gotoBack),o}return _createClass(i,[{key:"initializeView",value:function(){this.view=new t.assets.fla._Credits(this.scene),this.add(this.view),this.backButton=this.view.backButton}},{key:"stopInput",value:function(){this.backButton.removeEventListenerClick(this.gotoBack)}}]),i}(t.code.Screen);e.Credits=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,a);var n=_createSuper(i);function i(t){var a;return _classCallCheck(this,i),(a=n.call(this,t)).typeCounter=0,a.typeString="",a.newCallback=!1,a.displayArrow=!0,a.advanceLetter=function(){var t=NaN,n=NaN,i=NaN;a.typeCounter++,a.typeCounter<=a.typeString.length?(e.GameWorld.soundManager.playSound("dialog"),-1==(t=a.typeString.indexOf(" ",a.typeCounter))&&(t=a.typeString.length),n=Math.max(0,a.typeString.lastIndexOf(" ",a.typeCounter)),a.typeString.substr(a.typeCounter,t-a.typeCounter),a.dialogText.text=a.typeString.substr(0,a.typeCounter),i=a.dialogText.height,a.dialogText.text=a.typeString.substr(0,t),i!=a.dialogText.height&&(a.typeString.indexOf("\n",n)>=t||-1==a.typeString.indexOf("\n",n))?a.dialogText.text=a.typeString.substr(0,n)+"\n"+a.typeString.substr(n+1,a.typeCounter-(n+1)):a.dialogText.text=a.typeString.substr(0,a.typeCounter)):(a.dialogText.text=a.typeString.substr(0,a.typeString.length),a.typeTimer.remove(),a.displayArrow&&(a.dialogArrow.visible=!0,a.dialogArrowGotoAndStop("start")))},a.initializeView(),a.lines=new Array,a.dictionary=new Object,a.dialogArrow.visible=!1,e.GameWorld.constants.setText(a.submitButton,e.GameWorld.constants.getOneLinerWithID("submitButton")),e.GameWorld.constants.setText(a.ignoreButton,e.GameWorld.constants.getOneLinerWithID("ignoreButton")),e.GameWorld.constants.setText(a.openButton,e.GameWorld.constants.getOneLinerWithID("openButton")),e.GameWorld.constants.setText(a.skipButton,e.GameWorld.constants.getOneLinerWithID("skipButton")),e.GameWorld.constants.setText(a.watchButton,e.GameWorld.constants.getOneLinerWithID("watchButton")),e.GameWorld.constants.setText(a.battleButton,e.GameWorld.constants.getOneLinerWithID("battleButton")),e.GameWorld.constants.setText(a.sendInButton,e.GameWorld.constants.getOneLinerWithID("sendInButton")),e.GameWorld.constants.setText(a.statsButton,e.GameWorld.constants.getOneLinerWithID("statsButton")),e.GameWorld.constants.setText(a.continueButton,e.GameWorld.constants.getOneLinerWithID("continueButton")),e.GameWorld.constants.setText(a.yesButton,e.GameWorld.constants.getOneLinerWithID("yes")),e.GameWorld.constants.setText(a.noButton,e.GameWorld.constants.getOneLinerWithID("no")),a}return _createClass(i,[{key:"initializeView",value:function(){var t=new e.AttackButton(this.scene);t.x=this.attackButton1.x,t.y=this.attackButton1.y,this.addAt(t,this.getIndex(this.attackButton1)),this.attackButton1=t;var a=new e.AttackButton(this.scene);a.x=this.attackButton2.x,a.y=this.attackButton2.y,this.addAt(a,this.getIndex(this.attackButton2)),this.attackButton2=a;var n=new e.AttackButton(this.scene);n.x=this.attackButton3.x,n.y=this.attackButton3.y,this.addAt(n,this.getIndex(this.attackButton3)),this.attackButton3=n;var i=new e.AttackButton(this.scene);i.x=this.attackButton4.x,i.y=this.attackButton4.y,this.addAt(i,this.getIndex(this.attackButton4)),this.attackButton4=i;var o=new e.PokemonSelectButton(this.scene);o.x=this.pokemonButton1.x,o.y=this.pokemonButton1.y,this.addAt(o,this.getIndex(this.pokemonButton1)),this.pokemonButton1=o;var s=new e.PokemonSelectButton(this.scene);s.x=this.pokemonButton2.x,s.y=this.pokemonButton2.y,this.addAt(s,this.getIndex(this.pokemonButton2)),this.pokemonButton2=s;var r=new e.PokemonSelectButton(this.scene);r.x=this.pokemonButton3.x,r.y=this.pokemonButton3.y,this.addAt(r,this.getIndex(this.pokemonButton3)),this.pokemonButton3=r;var l=new e.PokemonSelectButton(this.scene);l.x=this.pokemonButton4.x,l.y=this.pokemonButton4.y,this.addAt(l,this.getIndex(this.pokemonButton4)),this.pokemonButton4=l;var c=new e.NamePokemonTextField(this.scene);c.x=this.newPokemonName.x,c.y=this.newPokemonName.y,this.addAt(c,this.getIndex(this.newPokemonName)),this.newPokemonName=c}},{key:"_update",value:function(){this.newPokemonName._update()}},{key:"loadInfo",value:function(t){this.loadFromXML(e.GameWorld.constants.getTextWithID(t))}},{key:"loadFromXML",value:function(a){var n=null;this.lines.splice(0);var i,o=_createForOfIteratorHelper(t.util.XMLParser.getChildNode(a,"line"));try{for(o.s();!(i=o.n()).done;){var s=i.value;n=new e.DialogLine(t.util.XMLParser.getAttribute(s,"string"));var r=t.util.XMLParser.getAttribute(s,"speed");isEmpty(r)||(n.speed=1e3*Number(r)),this.addLine(n.string,n.speed)}}catch(t){o.e(t)}finally{o.f()}return this.updateText(),a}},{key:"addLine",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;console.log("adding line: "+e),this.lines.push(new t.code.DialogLine(e,a))}},{key:"updateText",value:function(){var t=null,e=void 0;if(this.lines.length>0){for(e in t=this.lines.shift(),this.dictionary)this.isBeginningOfSentence(e,t.string)&&this.shouldCheckCapitalization(e)?t.string=t.string.replace(e,this.dictionary[e].substr(0,1).toUpperCase()+this.dictionary[e].substr(1,this.dictionary[e].length)):t.string=t.string.replace(e,this.dictionary[e]);this.typeText(t.string,t.speed)}else this.dialogArrow.visible=!1}},{key:"setNextClickCallback",value:function(t){this.nextClickCallback=t,this.newCallback=!0}},{key:"advanceLine",value:function(){null!=this.nextClickCallback&&this.typeCounter>=this.typeString.length&&this.isDone()?(this.newCallback=!1,this.nextClickCallback(),this.dialogArrow.visible=!1,this.newCallback||(this.nextClickCallback=null)):this.typeCounter<this.typeString.length?(this.typeCounter=this.typeString.length,this.advanceLetter(),e.GameWorld.soundManager.playSound("dialogReveal"),console.log("advance to end of string: "+this.typeString)):(this.updateText(),console.log("advance to next line: "+this.lines.length))}},{key:"isDone",value:function(){return 0==this.lines.length&&this.typeCounter>=this.typeString.length}},{key:"replaceString",value:function(t,e){console.log("replace string: "+t+" --- with: "+e),this.dictionary[t]=e}},{key:"typeText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;this.dialogArrow.visible=!1,this.dialogText.text="",this.typeCounter=0,this.typeString=t,this.typeTimer=this.scene.time.addEvent({delay:e,callback:this.advanceLetter,callbackScope:this,loop:!0})}},{key:"setText",value:function(t){console.log("set dialog text: "+t),this.typeCounter=this.typeString.length,this.dialogText.text=t,this.typeTimer.remove()}},{key:"updatePokemonDictionary",value:function(t){var e,a=null,n=_createForOfIteratorHelper(t.pokemon);try{for(n.s();!(e=n.n()).done;)a=e.value,this.replaceString("%"+a.id+"%",a.displayName)}catch(t){n.e(t)}finally{n.f()}this.replaceString("%selected%",t.getCurrentPokemon().displayName)}},{key:"gotoAndStop",value:function(t){_get(_getPrototypeOf(i.prototype),"gotoAndStop",this).call(this,t),this.displayArrow="dialogOnly"==t||"mapDialog"==t||"mapInfo"==t,this.dialogBackground.visible="switchPokemon"!=t,"mainMenu"==t||"fight"==t?this.dialogBackgroundGotoAndStop("half"):"dialogOnly"==t||"pokemonGet"==t||"confirmPokemon"==t?(this.dialogBackgroundGotoAndStop("full"),this.dialogArrowArrowGotoAndStop("white")):"mapDialog"==t?(this.dialogBackgroundGotoAndStop("speechBubble"),this.dialogArrowArrowGotoAndStop("black")):this.dialogBackgroundGotoAndStop("map"),"mapInfo"==t&&this.dialogArrowArrowGotoAndStop("white")}},{key:"setNewPokemonName",value:function(t){this.newPokemonName.setEnabled(!0),this.newPokemonName.inputTextField.value=t}},{key:"getNewPokemonName",value:function(){return this.newPokemonName.setEnabled(!1),this.newPokemonName.inputTextField.value}},{key:"updateGenderPronounsWithCharacter",value:function(t){this.replaceString("%heshe%",e.GameWorld.constants.getOneLinerWithID("heshe"+t.gender)),this.replaceString("%himher%",e.GameWorld.constants.getOneLinerWithID("himher"+t.gender)),this.replaceString("%hisher%",e.GameWorld.constants.getOneLinerWithID("hisher"+t.gender))}},{key:"isBeginningOfSentence",value:function(t,e){if(0==e.indexOf(t))return!0;var a,n=_createForOfIteratorHelper(e.split("\n"));try{for(n.s();!(a=n.n()).done;)if(0==a.value.indexOf(t))return!0}catch(t){n.e(t)}finally{n.f()}var i,o=_createForOfIteratorHelper(e.split(". "));try{for(o.s();!(i=o.n()).done;)if(0==i.value.indexOf(t))return!0}catch(t){o.e(t)}finally{o.f()}return!1}},{key:"shouldCheckCapitalization",value:function(t){return"%heshe%"==t||"%himher%"==t}}]),i}(t.assets.fla._DialogBox);e.DialogBox=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=_createClass((function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;_classCallCheck(this,t),this.speed=10,this.string=e,this.speed=a}));t.DialogLine=e}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(){var t;return _classCallCheck(this,a),(t=e.call(this)).positiveEffect=new Array(.75,.6,.5,.428,.375,.33),t.negativeEffect=new Array(1.33,1.66,2,2.33,2.66,3),t.type="evasion",t}return _createClass(a)}(t.StatEffect);t.EvasionStatEffect=e}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(t){_inherits(a,Phaser.GameObjects.Rectangle);var e=_createSuper(a);function a(t,n){var i;return _classCallCheck(this,a),(i=e.call(this,n,0,0,game.scale.width,game.scale.height,0,1)).fadeDone=function(){null!=i.fadeCallback&&i.fadeCallback()},i.setOrigin(0,0),i.gameworld=t,i.alpha=0,i.setInteractive(),i}return _createClass(a,[{key:"fadeIn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;this.fade(1,0,t,e)}},{key:"fadeOut",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;this.fade(0,1,t,e)}},{key:"fade",value:function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.alpha=t,this.fadeTween=this.scene.tweens.add({targets:this,alpha:e,duration:1e3*n,onComplete:this.fadeDone}),this.fadeCallback=a}},{key:"isFading",value:function(){return null!=this.fadeTween&&this.fadeTween.isPlaying()}}]),a}();t.Fader=e}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,a);var n=_createSuper(i);function i(t,a){var o;return _classCallCheck(this,i),(o=n.call(this,t,a)).gameWin=function(){o.timer.remove(),o.gameworld._setState(o.gameworld.GAMESTATE_GAME_WIN)},o.gotoSkip=function(){o.gameWin()},o.initializeView(),o.init(),o.skipButton.setInteractive({cursor:"pointer"}),o.skipButton.on("pointerup",o.gotoSkip),e.GameWorld.soundManager.playMusic("MusicMain",!0),o}return _createClass(i,[{key:"initializeView",value:function(){this.view=new t.assets.fla._GameAlmostWin(this.scene),this.add(this.view),this.skipButton=this.view.skipButton}},{key:"init",value:function(){this.timer=this.scene.time.addEvent({delay:2e3,callback:this.gameWin,callbackScope:this,loop:!0})}},{key:"stopInput",value:function(){this.skipButton.off("pointerup",this.gotoSkip),this.timer.remove()}}]),i}(t.code.Screen);e.GameAlmostWin=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,a);var n=_createSuper(i);function i(a,o){var s;return _classCallCheck(this,i),(s=n.call(this,a,o)).gotoContinue=function(){"healPokemon"==t.util.XMLParser.getAttribute(e.GameWorld.constants.getConfig(),"continueMode")?s.gameworld.continueFromGameOver():s.gameworld.newGame(),s.gameworld._setState(s.gameworld.GAMESTATE_BATTLE),ga("send","event","Game","Continue","Pokémon Black and Blue - Continue")},s.gotoQuit=function(){s.yesButton.visible=s.noButton.visible=s.areYouSureText.visible=!0,s.continueButton.visible=s.treasureButton.visible=s.quitButton.visible=!1,ga("send","event","Game","Quit","Pokémon Black and Blue - Quit")},s.gotoQuitYES=function(){s.gameworld._setState(s.gameworld.GAMESTATE_MAIN_MENU)},s.gotoTreasure=function(){s.gameworld._setState(s.gameworld.GAMESTATE_TREASURE,.3),ga("send","event","Game","Treasure","Pokémon Black and Blue - Treasure")},s.gotoNo=function(){s.yesButton.visible=s.noButton.visible=s.areYouSureText.visible=!1,s.continueButton.visible=s.treasureButton.visible=s.quitButton.visible=!0},s.initializeView(),s.gameOverText.text=e.GameWorld.constants.getOneLinerWithID("gameOver"),e.GameWorld.constants.setText(s.continueButton,e.GameWorld.constants.getOneLinerWithID("continueButton")),e.GameWorld.constants.setText(s.yesButton,e.GameWorld.constants.getOneLinerWithID("yes")),e.GameWorld.constants.setText(s.treasureButton,e.GameWorld.constants.getOneLinerWithID("treasureButton")),e.GameWorld.constants.setText(s.noButton,e.GameWorld.constants.getOneLinerWithID("no")),e.GameWorld.constants.setText(s.quitButton,e.GameWorld.constants.getOneLinerWithID("quitButton")),s.gameOver1.text=e.GameWorld.constants.getOneLinerWithID("gameOverText"),s.gameworld.prevState!=s.gameworld.GAMESTATE_TREASURE?s.tween=s.scene.tweens.add({targets:s.gameOverMask,y:s.gameOver1.y,duration:5e3,ease:Phaser.Math.Easing.Linear}):s.gameOverMask.y=s.gameOver1.y,s.yesButton.visible=s.noButton.visible=s.areYouSureText.visible=!1,s.continueButton.addEventListenerClick(s.gotoContinue),s.quitButton.addEventListenerClick(s.gotoQuit),s.yesButton.addEventListenerClick(s.gotoQuitYES),s.treasureButton.addEventListenerClick(s.gotoTreasure),s.noButton.addEventListenerClick(s.gotoNo),s}return _createClass(i,[{key:"initializeView",value:function(){this.view=new t.assets.fla._GameOver(this.scene),this.add(this.view),this.quitButton=this.view.quitButton,this.gameOverMask=this.view.gameOverMask,this.treasureButton=this.view.treasureButton,this.gameOver1=this.view.gameOver1,this.areYouSureText=this.view.areYouSureText,this.continueButton=this.view.continueButton,this.gameOverText=this.view.gameOverText,this.noButton=this.view.noButton,this.yesButton=this.view.yesButton}},{key:"stopInput",value:function(){this.continueButton.removeEventListenerClick(this.gotoContinue),this.quitButton.removeEventListenerClick(this.gotoQuit),this.noButton.removeEventListenerClick(this.gotoNo),this.treasureButton.removeEventListenerClick(this.gotoTreasure),this.yesButton.removeEventListenerClick(this.gotoQuitYES)}}]),i}(t.code.Screen);e.GameOver=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(pbawp){var code;(function(code){var GameWin=function(_pbawp$code$Screen5){_inherits(GameWin,_pbawp$code$Screen5);var _super49=_createSuper(GameWin);function GameWin(refToGameWorld,scene){var _this46;return _classCallCheck(this,GameWin),_this46=_super49.call(this,refToGameWorld,scene),_this46.gotoContinue=function(){_this46.gameworld._setState(_this46.gameworld.GAMESTATE_MAIN_MENU)},_this46.gotoTreasure=function(){_this46.gameworld._setState(_this46.gameworld.GAMESTATE_TREASURE,.3)},_this46.gotoCredits=function(){_this46.gameworld._setState(_this46.gameworld.GAMESTATE_CREDITS)},_this46.gotoShare=function(){ga("send","event","Game","Share Video","Pokémon Black and Blue - Share Video");var jscommand="window.open('"+_this46.videoLink+"','win','height=550,width=550,toolbar=no,scrollba rs=yes');";setupPopUpWindowAnalytics(eval(jscommand))},_this46.initializeView(),_this46.videoLink=code.GameWorld.constants.getTreasureLink("freeMeVideo"),_this46.add(new pbawp.assets.swf._WinSWF(_this46.scene)),code.GameWorld.soundManager.playMusic("MusicMain",!0),_this46.congratulationsText.text=code.GameWorld.constants.getOneLinerWithID("congratulations"),code.GameWorld.constants.setText(_this46.playAgainButton,code.GameWorld.constants.getOneLinerWithID("playAgainButton")),code.GameWorld.constants.setText(_this46.treasureButton,code.GameWorld.constants.getOneLinerWithID("treasureButton")),code.GameWorld.constants.setText(_this46.creditsButton,code.GameWorld.constants.getOneLinerWithID("credits")),code.GameWorld.constants.setText(_this46.shareButton,code.GameWorld.constants.getOneLinerWithID("share")),_this46.winText.text=code.GameWorld.constants.getOneLinerWithID("win"),_this46.gameworld.prevState!=_this46.gameworld.GAMESTATE_TREASURE&&_this46.gameworld.prevState!=_this46.gameworld.GAMESTATE_CREDITS?_this46.tween=_this46.scene.tweens.add({targets:_this46.winTextMask,y:_this46.winText.y,duration:5e3,ease:Phaser.Math.Easing.Linear}):_this46.winTextMask.y=_this46.winText.y,_this46.playAgainButton.addEventListenerClick(_this46.gotoContinue),_this46.treasureButton.addEventListenerClick(_this46.gotoTreasure),_this46.creditsButton.addEventListenerClick(_this46.gotoCredits),_this46.shareButton.addEventListenerClick(_this46.gotoShare),_this46}return _createClass(GameWin,[{key:"initializeView",value:function(){this.view=new pbawp.assets.fla._GameWin(this.scene),this.add(this.view),this.congratulationsText=this.view.congratulationsText,this.treasureButton=this.view.treasureButton,this.winTextMask=this.view.winTextMask,this.playAgainButton=this.view.playAgainButton,this.creditsButton=this.view.creditsButton,this.winText=this.view.winText,this.shareButton=this.view.shareButton}},{key:"stopInput",value:function(){this.playAgainButton.removeEventListenerClick(this.gotoContinue),this.treasureButton.removeEventListenerClick(this.gotoTreasure),this.creditsButton.removeEventListenerClick(this.gotoCredits),this.shareButton.removeEventListenerClick(this.gotoShare)}}]),GameWin}(pbawp.code.Screen);code.GameWin=GameWin})(code=pbawp.code||(pbawp.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).gamestate=0,i.prevState=0,i.savedState=0,i.currentFadeSpeed=0,i.currentKeyDown=0,i.needsSound=!1,i.helpShown=!1,i.introShown=!1,i.GAMESTATE_LOADING=0,i.GAMESTATE_MAIN_MENU=1,i.GAMESTATE_INTRO=2,i.GAMESTATE_BATTLE=3,i.GAMESTATE_MAP=5,i.GAMESTATE_GAME_OVER=6,i.GAMESTATE_GAME_WIN=7,i.GAMESTATE_TREASURE=8,i.GAMESTATE_GAME_ALMOST_WIN=9,i.GAMESTATE_CREDITS=10,i.DEPTH_SCREEN=0,i.DEPTH_OVERLAY=1,i.DEPTH_HELP=2,i.DEPTH_FADER=3,i.fadeDone=function(){i.currentScreen._destroy(),i.remove(i.currentScreen),i.currentScreen=null,i._setState(i.savedState),i.fader.fadeIn(null,i.currentFadeSpeed)},i.mapOneOffs=new Object,n.constants=new t.code.Constants,n.constants.xml=t.util.XMLParser.toXMLDoc(blackAndBlue_xml),n.soundManager=new t.code.SoundManager(i.scene),i.player=new t.code.Player(i.scene),i._setState(Number(t.util.XMLParser.getAttribute(n.constants.getElementWithName("gamegenie"),"firstScreen"))),i}return _createClass(n,[{key:"init",value:function(){this.fader=new t.code.Fader(this,this.scene),this.add(this.fader)}},{key:"_setState",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(null!=this.currentScreen)return console.log("removing current screen with state: "+this.gamestate),this.savedState=e,this.currentScreen.stopInput(),this.fader.fadeOut(this.fadeDone,a),void(this.currentFadeSpeed=a);switch(e!=this.GAMESTATE_LOADING&&null==this.overlay&&(this.overlay=new t.code.Overlay(this,this.scene),this.enableHelpButton(!1),this.add(this.overlay)),this.prevState=this.gamestate,e){case this.GAMESTATE_MAIN_MENU:this.currentScreen=new t.code.MenuMain(this,this.scene);break;case this.GAMESTATE_INTRO:this.currentScreen=new t.code.Intro(this,this.scene);break;case this.GAMESTATE_BATTLE:this.currentScreen=new t.code.BattleManager(this,this.scene);break;case this.GAMESTATE_MAP:this.currentScreen=new t.code.Map(this,this.scene);break;case this.GAMESTATE_GAME_OVER:this.currentScreen=new t.code.GameOver(this,this.scene);break;case this.GAMESTATE_GAME_WIN:this.currentScreen=new t.code.GameWin(this,this.scene);break;case this.GAMESTATE_TREASURE:this.currentScreen=new t.code.TreasureScreen(this,this.scene);break;case this.GAMESTATE_GAME_ALMOST_WIN:this.currentScreen=new t.code.GameAlmostWin(this,this.scene);break;case this.GAMESTATE_CREDITS:this.currentScreen=new t.code.Credits(this,this.scene);break;default:this.currentScreen=new t.code.MenuMain(this,this.scene)}null!=this.currentScreen&&(console.log("adding current screen with state: "+e),this.addAt(this.currentScreen,this.DEPTH_SCREEN)),this.gamestate=e}},{key:"newGame",value:function(){this.player.newGame()}},{key:"continueFromGameOver",value:function(){this.player.continueFromGameOver()}},{key:"showHelp",value:function(){this.help=new t.code.Help(this,this.scene),this.add(this.help)}},{key:"hideHelp",value:function(){this.remove(this.help),this.help=null}},{key:"enableHelpButton",value:function(t){this.overlay.enableHelp(t)}},{key:"_update",value:function(){this.currentScreen&&this.currentScreen._update()}}]),n}();e.GameWorld=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(e){_inherits(n,e);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).yellowBar=!1,i.onTweenUpdate=function(){i.updateScale()},i.onTweenFinish=function(){null!=i.updateHealthDoneCallback&&(i.updateHealthDoneCallback(),i.updateHealthDoneCallback=null)},i.flashDone=function(){i.yellowBar=!1,i.timer.remove(),i.parentContainer instanceof t.assets.fla._PlayerBattleInfo?(null!=i.parentContainer.background&&(i.parentContainer.backgroundGotoAndStop("normal"),i.parentContainer.health.setColor("#"+16777215..toString(16))),i.parentContainer.displayName.setColor("#"+16777215..toString(16))):i.parentContainer instanceof t.assets.fla._OpponentBattleInfo&&(null!=i.parentContainer.background&&i.parentContainer.backgroundGotoAndStop("normal"),i.parentContainer.displayName.setColor("#"+16777215..toString(16))),i.updateScale()},i.addedToStage(),i}return _createClass(n,[{key:"addedToStage",value:function(){}},{key:"updateHealth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.curHealth<t.prevHealth&&(this.flashOnce(),t.prevHealth=t.curHealth),this.updateHealthDoneCallback=e,this.tween=this.scene.tweens.add({targets:this,scaleX:t.curHealth/t.maxHealth,duration:1e3,ease:Phaser.Math.Easing.Linear,onUpdate:this.onTweenUpdate,onComplete:this.onTweenFinish})}},{key:"updateScale",value:function(){this.yellowBar?this.gotoAndStop("yellow"):this.scaleX>.5?this.gotoAndStop("green"):this.scaleX>.2?this.gotoAndStop("yellow"):this.gotoAndStop("red")}},{key:"flashOnce",value:function(){this.yellowBar=!0,this.parentContainer instanceof t.assets.fla._PlayerBattleInfo?(this.parentContainer.backgroundGotoAndStop("hit"),this.gotoAndStop("yellow"),this.parentContainer.health.setColor("#"+16775168..toString(16))):this.parentContainer instanceof t.assets.fla._OpponentBattleInfo&&this.parentContainer.backgroundGotoAndStop("hit"),this.gotoAndStop("yellow"),this.timer=this.scene.time.addEvent({delay:250,callback:this.flashDone,callbackScope:this,loop:!0}),this.parentContainer.displayName.setColor("#"+16775168..toString(16))}}]),n}(t.assets.fla._HealthBar);e.HealthBar=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(t){_inherits(n,t);var a=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=a.call(this,i)).gotoNoHelp=function(){o.cancelButton.removeEventListenerClick(o.gotoNoHelp),o.goButton.removeEventListenerClick(o.gotoNoHelp),o.gameworld.hideHelp()},o.goPressed=function(){},o.goReleased=function(){o.gotoNoHelp()},o.gameworld=t,o.helpText1.text=e.GameWorld.constants.getOneLinerWithID("help1"),o.helpText2.text=e.GameWorld.constants.getOneLinerWithID("help2"),o.helpText3.text=e.GameWorld.constants.getOneLinerWithID("help3"),e.GameWorld.constants.setText(o.goButton,e.GameWorld.constants.getOneLinerWithID("helpButton")),o.cancelButton.addEventListenerClick(o.gotoNoHelp),o.goButton.addEventListenerClick(o.gotoNoHelp),o.bg.setInteractive(),o}return _createClass(n)}(t.assets.fla._Help);e.Help=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,a);var n=_createSuper(i);function i(t,a){var o;return _classCallCheck(this,i),(o=n.call(this,t,a)).typeCounter=0,o.typeSpeed=25,o.gotoNext=function(){o.intro3.text.length==o.introText3.length||o.gameworld.introShown?(o.gameworld.introShown=!0,o.gameworld._setState(o.gameworld.GAMESTATE_BATTLE)):(e.GameWorld.soundManager.playSound("dialogReveal"),o.intro1.text=o.introText1,o.intro2.text=o.introText2,o.intro3.text=o.introText3,o.typeTimer.remove())},o.advanceLetter=function(){var t=NaN,a=NaN,n=NaN;o.typeCounter++,o.typeCounter<=o.typeString.length?(e.GameWorld.soundManager.playSound("dialog"),-1==(t=o.typeString.indexOf(" ",o.typeCounter))&&(t=o.typeString.length),a=Math.max(0,o.typeString.lastIndexOf(" ",o.typeCounter)),o.typeString.substr(o.typeCounter,t-o.typeCounter),o.typeTextField.text=o.typeString.substr(0,o.typeCounter),n=o.typeTextField.height,o.typeTextField.text=o.typeString.substr(0,t),n!=o.typeTextField.height&&(o.typeString.indexOf("\n",a)>=t||-1==o.typeString.indexOf("\n",a))?o.typeTextField.text=o.typeString.substr(0,a)+"\n"+o.typeString.substr(a+1,o.typeCounter-(a+1)):o.typeTextField.text=o.typeString.substr(0,o.typeCounter)):(o.typeTextField.text=o.typeString.substr(0,o.typeString.length),o.typeTimer.remove(),o.typeTextField==o.intro1?o.typeText(o.introText2,o.intro2):o.typeTextField==o.intro2&&o.typeText(o.introText3,o.intro3))},o.initializeView(),e.GameWorld.constants.setText(o.goButton,e.GameWorld.constants.getOneLinerWithID("introButton")),o.introText1=e.GameWorld.constants.getOneLinerWithID("intro1"),o.introText2=e.GameWorld.constants.getOneLinerWithID("intro2"),o.introText3=e.GameWorld.constants.getOneLinerWithID("intro3"),o.intro1.text="",o.intro2.text="",o.intro3.text="",o.typeText(o.introText1,o.intro1),o.goButton.addEventListenerClick(o.gotoNext),o}return _createClass(i,[{key:"initializeView",value:function(){this.view=new t.assets.fla._Intro(this.scene),this.add(this.view),this.goButton=this.view.goButton,this.intro1=this.view.intro1,this.intro2=this.view.intro2,this.intro3=this.view.intro3}},{key:"stopInput",value:function(){this.goButton.removeEventListenerClick(this.gotoNext),this.typeTimer.remove()}},{key:"typeText",value:function(t,e){this.typeCounter=0,this.typeString=t,this.typeTextField=e,this.typeTimer=this.scene.time.addEvent({delay:this.typeSpeed,callback:this.advanceLetter,callbackScope:this,loop:!0})}}]),i}(t.code.Screen);e.Intro=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this)).positiveEffect=new Array(1.5,2,2.5,3,3.5,4),n.negativeEffect=new Array(.66,.5,.4,.33,.285,.25),n.type=t,n}return _createClass(a)}(t.StatEffect);t.MainStatEffect=e}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(pbawp){var code;(function(code){var Map=function(_pbawp$code$Screen7){_inherits(Map,_pbawp$code$Screen7);var _super55=_createSuper(Map);function Map(refToGameWorld,scene){var _this52;return _classCallCheck(this,Map),_this52=_super55.call(this,refToGameWorld,scene),_this52.treasureLink="",_this52.treasureID="",_this52.treasureOpen=!1,_this52.scrollMap=!1,_this52.scrollSpeed=5,_this52.advanceDialog=function(){_this52.dialogBox.advanceLine()},_this52.ignoreTreasure=function(){_this52.checkQueue()},_this52.ignoreTreasureGoogleAnalyticsIgnore=function(){ga("send","event","Game","Ignore","Pokémon Black and Blue - Ignore")},_this52.ignoreTreasureGoogleAnalyticsSkip=function(){ga("send","event","Game","Skip","Pokémon Black and Blue - Skip")},_this52.openTreasure=function(){_this52.gameworld.player.unlockTreasure(_this52.treasureID),_this52.treasure.openTreasure(),_this52.treasureOpen=!0,_this52.checkQueue()},_this52.openTreasureGoogleAnalyticsOpen=function(){ga("send","event","Game","Open","Pokémon Black and Blue - Open")},_this52.watchTreasure=function(){ga("send","event","Game","View","Pokémon Black and Blue - View"),/*!GameWorld.soundManager.muted &&*/_this52.treasureID,_this52.dialogBox.gotoAndStop("treasureDone");var jscommand="window.open('"+_this52.treasureLink+"','win','height=550,width=550,toolbar=no,scrollba rs=yes');";setupPopUpWindowAnalytics(eval(jscommand))},_this52.gotoBattle=function(){_this52.gameworld.player.currentMap++,_this52.gameworld._setState(_this52.gameworld.GAMESTATE_BATTLE)},_this52.checkQueue=function(){_this52.actions.length>0&&(_this52.currentAction=_this52.actions.shift(),_this52.performCurrentAction())},_this52.this_currentAction_attribute_wait="false",_this52.actions=new Array,_this52.characters=new Array,_this52.backgrounds=new Array,_this52.initializeView(),_this52.backgrounds.push(_this52.mapBackground1),_this52.backgrounds.push(_this52.mapBackground2),_this52.dialogBox.updatePokemonDictionary(_this52.gameworld.player),_this52.loadMap(_this52.gameworld.player.currentMap),_this52.checkQueue(),_this52.dialogBox.ignoreButton.addEventListenerClick(_this52.ignoreTreasure),_this52.dialogBox.ignoreButton.addEventListenerClick(_this52.ignoreTreasureGoogleAnalyticsIgnore),_this52.dialogBox.skipButton.addEventListenerClick(_this52.ignoreTreasure),_this52.dialogBox.skipButton.addEventListenerClick(_this52.ignoreTreasureGoogleAnalyticsSkip),_this52.dialogBox.openButton.addEventListenerClick(_this52.openTreasure),_this52.dialogBox.openButton.addEventListenerClick(_this52.openTreasureGoogleAnalyticsOpen),_this52.dialogBox.battleButton.addEventListenerClick(_this52.gotoBattle),_this52.advanceDialogButton.setInteractive({cursor:"pointer"}),_this52.advanceDialogButton.on("pointerup",_this52.advanceDialog,_assertThisInitialized(_this52)),_this52.dialogBox.watchButton.addEventListenerClick(_this52.watchTreasure),_this52.dialogBox.continueButton.addEventListenerClick(_this52.ignoreTreasure),_this52.dialogBox.yesButton.addEventListenerClick(_this52.ignoreTreasure),_this52.dialogBox.noButton.addEventListenerClick(_this52.openTreasure),_this52.init(),_this52}return _createClass(Map,[{key:"initializeView",value:function(){this.view=new pbawp.assets.fla._Map(this.scene),this.add(this.view),this.treasure=new code.Treasure("treasure1",this.scene),this.treasure.x=this.view.treasure.x,this.treasure.y=this.view.treasure.y,this.view.addAt(this.treasure,this.view.getIndex(this.view.treasure)),this.view.remove(this.view.treasure),this.view.treasure=this.treasure,this.treasure.visible=!1,this.treasure.getTreasureMC().setOrigin(.27,.1),this.treasure._setScale(-1,1),this.mapBackground1=this.view.mapBackground1,this.mapBackground2=this.view.mapBackground2,this.dialogBox=new code.DialogBox(this.scene),this.dialogBox.x=this.view.dialogBox.x,this.dialogBox.y=this.view.dialogBox.y,this.view.addAt(this.dialogBox,this.view.getIndex(this.view.dialogBox)),this.view.remove(this.view.dialogBox),this.view.dialogBox=this.dialogBox,this.speechBubble=new pbawp.code.SpeechBubble(this.scene),this.speechBubble.x=this.view.speechBubble.x,this.speechBubble.y=this.view.speechBubble.y,this.view.addAt(this.speechBubble,this.view.getIndex(this.view.speechBubble)),this.view.remove(this.view.speechBubble),this.view.speechBubble=this.speechBubble,this.advanceDialogButton=this.view.advanceDialogButton}},{key:"init",value:function(){this.treasure.setScale(.66)}},{key:"_destroy",value:function(){var t,e=_createForOfIteratorHelper(this.characters);try{for(e.s();!(t=e.n()).done;){t.value._destroy()}}catch(t){e.e(t)}finally{e.f()}this.treasure._destroy(),this.speechBubble._destroy()}},{key:"stopInput",value:function(){this.dialogBox.ignoreButton.removeEventListenerClick(this.ignoreTreasure),this.dialogBox.ignoreButton.removeEventListenerClick(this.ignoreTreasureGoogleAnalyticsIgnore),this.dialogBox.skipButton.removeEventListenerClick(this.ignoreTreasure),this.dialogBox.skipButton.removeEventListenerClick(this.ignoreTreasureGoogleAnalyticsSkip),this.dialogBox.openButton.removeEventListenerClick(this.openTreasure),this.dialogBox.openButton.removeEventListenerClick(this.openTreasureGoogleAnalyticsOpen),this.dialogBox.battleButton.removeEventListenerClick(this.gotoBattle),this.advanceDialogButton.off("pointerup",this.advanceDialog,this),this.dialogBox.watchButton.removeEventListenerClick(this.watchTreasure),this.dialogBox.continueButton.removeEventListenerClick(this.ignoreTreasure),this.dialogBox.yesButton.removeEventListenerClick(this.ignoreTreasure),this.dialogBox.noButton.removeEventListenerClick(this.openTreasure)}},{key:"loadMap",value:function(t){this.loadXML(code.GameWorld.constants.getMapWithIndex(t))}},{key:"loadXML",value:function(t){this.startMapFrame=pbawp.util.XMLParser.getAttribute(t,"startMapMCName"),this.treasureID=pbawp.util.XMLParser.getAttribute(t,"treasureID"),this.treasureLink=code.GameWorld.constants.getTreasureLink(this.treasureID),this.actions.splice(0);var e,a=_createForOfIteratorHelper(pbawp.util.XMLParser.getChildNode(t,"action"));try{for(a.s();!(e=a.n()).done;){var n=e.value;this.actions.push(n)}}catch(t){a.e(t)}finally{a.f()}return t}},{key:"chooseToWatchTreasure",value:function(){this.view.gotoAndStop("dialog"),this.dialogBox.gotoAndStop("treasureOpen")}},{key:"showTreasure",value:function(){this.view.gotoAndStop("dialog"),this.dialogBox.gotoAndStop("treasureFind"),this.dialogBox.dialogText.text=code.GameWorld.constants.getOneLinerWithID("foundChest").replace("%pokemon%",this.gameworld.player.getFirstPokemon().displayName)}},{key:"_update",value:function(){if(this.scrollMap){var t,e=_createForOfIteratorHelper(this.backgrounds);try{for(e.s();!(t=e.n()).done;){var a=t.value;a.y=a.y+this.scrollSpeed;var n=a.height*(1-a.originY)*.99;a.y>=n&&(a.y=-n+(a.y-n))}}catch(t){e.e(t)}finally{e.f()}}}},{key:"performCurrentAction",value:function(){this.this_currentAction_attribute_wait=pbawp.util.XMLParser.getAttribute(this.currentAction,"wait");var t=null,e=null,a=NaN,n=pbawp.util.XMLParser.getAttribute(this.currentAction,"id"),i=pbawp.util.XMLParser.getAttribute(this.currentAction,"characterID"),o=Number(pbawp.util.XMLParser.getAttribute(this.currentAction,"speed"));if(console.log("performing current action: "+n),this.view.gotoAndStop("noDialog"),this.speechBubble.alpha=0,"true"!=pbawp.util.XMLParser.getAttribute(this.currentAction,"needsOpen")||this.treasureOpen)if("true"==pbawp.util.XMLParser.getAttribute(this.currentAction,"needsSkip")&&this.treasureOpen)this.checkQueue();else{if("true"==pbawp.util.XMLParser.getAttribute(this.currentAction,"oncePerGame")){if(this.gameworld.mapOneOffs[n])return void this.checkQueue();this.gameworld.mapOneOffs[n]=!0}if("setup"==n){var s,r=_createForOfIteratorHelper(String(pbawp.util.XMLParser.getAttribute(this.currentAction,"characters")).split(", ").reverse());try{for(r.s();!(s=r.n()).done;){var l=s.value;t=new code.MapCharacter(l,this.scene),this.characters.push(t),this.view.addAt(t,this.view.getIndex(this.treasure)+1)}}catch(t){r.e(t)}finally{r.f()}}else if("animateCharacter"==n)this.getCharacterWithID(i).playFromFrame(0);else if("setPosition"==n)this.getCharacterWithID(i)._setPosition(Number(pbawp.util.XMLParser.getAttribute(this.currentAction,"x")),Number(pbawp.util.XMLParser.getAttribute(this.currentAction,"y")));else if("animatePosition"==n)this.getCharacterWithID(i).playFromFrame(2),this.getCharacterWithID(i).animatePosition(pbawp.util.XMLParser.getAttribute(this.currentAction,"x"),pbawp.util.XMLParser.getAttribute(this.currentAction,"y"),o,"true"==pbawp.util.XMLParser.getAttribute(this.currentAction,"wait")?this.checkQueue:null);else if("swapCharacter"==n)this.getCharacterWithID(pbawp.util.XMLParser.getAttribute(this.currentAction,"oldCharacterID"))._swap(pbawp.util.XMLParser.getAttribute(this.currentAction,"newCharacterID")),"true"==this.this_currentAction_attribute_wait?this.getCharacterWithID(pbawp.util.XMLParser.getAttribute(this.currentAction,"newCharacterID")).playOnce(this.checkQueue):this.checkQueue();else if("dialog"==n)this.speechBubble.alpha=1,this.view.gotoAndStop("characterSpeak"),this.dialogBox.gotoAndStop("mapDialog"),this.dialogBox.addLine(pbawp.util.XMLParser.getAttribute(this.currentAction,"text")),this.dialogBox.updateText(),this.dialogBox.setNextClickCallback(this.checkQueue),this.this_currentAction_attribute_wait="true",e=this.getCharacterWithID(pbawp.util.XMLParser.getAttribute(this.currentAction,"characterID")),this.speechBubble.appearFrom(e);else if("showTreasure"==n)this.treasure.x=pbawp.util.XMLParser.getAttribute(this.currentAction,"x"),this.treasure.y=pbawp.util.XMLParser.getAttribute(this.currentAction,"y"),this.treasure.showTreasure(),this.treasure.visible=!0,this.checkQueue();else if("openTreasure"==n)this.showTreasure();else if("watchTreasure"==n)this.chooseToWatchTreasure(),this.dialogBox.dialogText.text=pbawp.util.XMLParser.getAttribute(this.currentAction,"text");else if("fadeOut"==n)this.gameworld.fader.fadeOut("true"==this.this_currentAction_attribute_wait?this.checkQueue:null,o);else if("fadeIn"==n)this.gameworld.fader.fadeIn("true"==this.this_currentAction_attribute_wait?this.checkQueue:null,o);else if("swapMap"==n){a=0;var c,u=_createForOfIteratorHelper(this.backgrounds);try{for(u.s();!(c=u.n()).done;){var h=c.value;h.y=a,a+=h.height,h.gotoAndStop(pbawp.util.XMLParser.getAttribute(this.currentAction,"mapName"))}}catch(t){u.e(t)}finally{u.f()}}else"startBattle"==n?(this.view.gotoAndStop("dialog"),this.dialogBox.gotoAndStop("mapBattle"),this.dialogBox.dialogText.text=pbawp.util.XMLParser.getAttribute(this.currentAction,"text")):"info"==n?(this.view.gotoAndStop("characterSpeak"),this.dialogBox.gotoAndStop("mapInfo"),this.dialogBox.addLine(pbawp.util.XMLParser.getAttribute(this.currentAction,"text")),this.dialogBox.updateText(),this.dialogBox.setNextClickCallback(this.checkQueue),this.this_currentAction_attribute_wait="true"):"hideTreasure"==n?this.treasure.hideTreasure():"gameover"==n?(console.log('ExternalInterface.call("window.parent.sendEvent(petaGA_GameCategory_Game,"End","Pokemon Game Completion"]);'),this.gameworld._setState(this.gameworld.GAMESTATE_GAME_ALMOST_WIN)):"areYouSurePrompt"==n?(this.view.gotoAndStop("dialog"),this.dialogBox.gotoAndStop("treasureAreYouSure"),this.dialogBox.dialogText.text=pbawp.util.XMLParser.getAttribute(this.currentAction,"text")):"scrollMap"==n?(this.scrollMap=!0,this.scrollSpeed=o):"stopScrollMap"==n&&(this.scrollMap=!1);"true"!=this.this_currentAction_attribute_wait&&this.checkQueue()}else this.checkQueue()}},{key:"getCharacterWithID",value:function(t){var e,a=_createForOfIteratorHelper(this.characters);try{for(a.s();!(e=a.n()).done;){var n=e.value;if(n.id==t)return n}}catch(t){a.e(t)}finally{a.f()}return null}}]),Map}(pbawp.code.Screen);code.Map=Map})(code=pbawp.code||(pbawp.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(t,e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).positionTweenCounter=0,i.positionTweenCallback=null,i.animationDoneCallback=null,i.previousFrame=-1,i.speechOffset=74,i.animatePositionDone=function(){i.positionTweenCounter++,2==i.positionTweenCounter&&null!=i.positionTweenCallback&&i.positionTweenCallback()},i.loadClip(t),i.visible=!1,i}return _createClass(n,[{key:"loadClip",value:function(e){this.id=e,this.animationClip=new t.assets.swf._TopdownSWF(this.scene).getChildByName(e),this.animationClip.x=0,this.animationClip.y=0,this.add(this.animationClip)}},{key:"_destroy",value:function(){this.remove(this.animationClip)}},{key:"_swap",value:function(t){this.remove(this.animationClip),this.loadClip(t),this.animationClip.gotoAndStop(0)}},{key:"_setPosition",value:function(t,e){this.x=t,this.y=e,this.visible=!0}},{key:"animatePosition",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.positionXTween=this.scene.tweens.add({targets:this,x:t,duration:1e3*a,ease:Phaser.Math.Easing.Linear,onComplete:this.animatePositionDone}),this.positionYTween=this.scene.tweens.add({targets:this,y:e,duration:1e3*a,ease:Phaser.Math.Easing.Linear,onComplete:this.animatePositionDone}),this.positionTweenCounter=0,this.positionTweenCallback=n}},{key:"playOnce",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.animationDoneCallback=t,this.animationClip.gotoAndPlay(0,this.animationDoneCallback)}},{key:"playFromFrame",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.animationClip.gotoAndPlay(t)}}]),n}();e.MapCharacter=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,a);var n=_createSuper(i);function i(t,a){var o;return _classCallCheck(this,i),(o=n.call(this,t,a)).shakeAmount=3,o.shakeTime=.1,o.treasureState=0,o.playState=0,o.treasureShakeDone=function(){0==o.treasureState?o.treasureShakeTween=o.scene.tweens.add({targets:o.treasureButton,x:o.treasureButton.x-o.shakeAmount,duration:.25*o.shakeTime*1e3,onComplete:o.treasureShakeDone}):1==o.treasureState?o.treasureShakeTween=o.scene.tweens.add({targets:o.treasureButton,x:o.treasureButton.x+2*o.shakeAmount,duration:.5*o.shakeTime*1e3,onComplete:o.treasureShakeDone}):2==o.treasureState&&(o.treasureShakeTween=o.scene.tweens.add({targets:o.treasureButton,x:o.treasureButton.x-o.shakeAmount,duration:.25*o.shakeTime*1e3,onComplete:o.treasureShakeDone})),o.treasureState++},o.playShakeDone=function(){0==o.playState?o.playShakeTween=o.scene.tweens.add({targets:o.playButton,x:o.playButton.x+o.shakeAmount,duration:.25*o.shakeTime*1e3,onComplete:o.playShakeDone}):1==o.playState?o.playShakeTween=o.scene.tweens.add({targets:o.playButton,x:o.playButton.x-2*o.shakeAmount,duration:.5*o.shakeTime*1e3,onComplete:o.playShakeDone}):2==o.playState&&(o.playShakeTween=o.scene.tweens.add({targets:o.playButton,x:o.playButton.x+o.shakeAmount,duration:.25*o.shakeTime*1e3,onComplete:o.playShakeDone})),o.playState++},o.gotoPlay=function(){console.log('ExternalInterface.call("window.parent.sendEvent(petaGA_GameCategory_Game,"Play","Pokemon Game Initiation"]);'),o.gameworld.newGame(),o.gameworld._setState(o.gameworld.GAMESTATE_INTRO),ga("send","event","Game","Play","Pokémon Black and Blue - Play")},o.gotoTreasure=function(){o.gameworld._setState(o.gameworld.GAMESTATE_TREASURE,.3)},o.initializeView(),e.GameWorld.constants.setText(o.playButton,e.GameWorld.constants.getOneLinerWithID("playButton")),e.GameWorld.constants.setText(o.treasureButton,e.GameWorld.constants.getOneLinerWithID("treasureButton")),o.gameworld.gamestate==o.gameworld.GAMESTATE_LOADING&&(o.treasureButton.alpha=0,o.playButton.alpha=0,o.popLogo.alpha=0,o.loadBarDone()),e.GameWorld.soundManager.playMusic("MusicMain",!0),o.playButton.addEventListenerClick(o.gotoPlay),o.treasureButton.addEventListenerClick(o.gotoTreasure),o.view.petaLogoGotoAndStop(e.GameWorld.constants.getPetaLogo()),o}return _createClass(i,[{key:"initializeView",value:function(){this.view=new t.assets.fla._MenuMain(this.scene),this.add(this.view),this.playButton=this.view.playButton,this.treasureButton=this.view.treasureButton,this.petaLogo=this.view.petaLogo,this.popLogo=this.view.popLogo}},{key:"stopInput",value:function(){this.playButton.removeEventListenerClick(this.gotoPlay),this.treasureButton.removeEventListenerClick(this.gotoTreasure)}},{key:"loadBarDone",value:function(){this.treasureButton.alpha=0,this.treasureFadeTween=this.scene.tweens.add({targets:this.treasureButton,alpha:1,duration:500}),this.playFadeTween=this.scene.tweens.add({targets:this.playButton,alpha:1,duration:500}),this.logoTween=this.scene.tweens.add({targets:this.popLogo,alpha:1,duration:500}),this.treasureShakeDone(),this.playShakeDone()}}]),i}(t.code.Screen);e.MenuMain=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t)).isEnabled=!1,n.isAddedEventListener_ENTER_FRAME=!1,n.setInputTextFieldContainerVisible(!1),n}return _createClass(a,[{key:"_update",value:function(){if(this.isAddedEventListener_ENTER_FRAME){var t=document.getElementById("inputFieldWidthHelperID");t.style.font=this.inputTextField.style.font,t.style.fontSize=this.inputTextField.style.fontSize,t.innerText=this.inputTextField.value;var e=t.clientWidth;this.cursor.x=t.clientWidth*this.scene.game.scale.displayScale.x,this.cursor.visible=e<170,this.inputTextField.maxLength=e>=170?this.inputTextField.value.length:100}}},{key:"setEnabled",value:function(t){this.isEnabled&&!t?this.isAddedEventListener_ENTER_FRAME=!1:!this.isEnabled&&t&&(this.isAddedEventListener_ENTER_FRAME=!0),this.isEnabled=t,this.isEnabled?this.initializeInput():_get(_getPrototypeOf(a.prototype),"destroyInput",this).call(this)}}]),a}(t.assets.fla._NamePokemonTextField);e.NamePokemonTextField=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(e){_inherits(n,e);var a=_createSuper(n);function n(t){var e;return _classCallCheck(this,n),(e=a.call(this,t)).initializeView(),e}return _createClass(n,[{key:"initializeView",value:function(){var e=new t.code.HealthBar(this.scene);e.x=this.healthBar.x,e.y=this.healthBar.y,this.addAt(e,this.getIndex(this.healthBar)),this.remove(this.healthBar),this.healthBar=e}}]),n}(t.assets.fla._OpponentBattleInfo);e.OpponentBattleInfo=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(t){_inherits(n,t);var a=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=a.call(this,i)).gotoHelp=function(){o.gameworld.showHelp()},o.gotoMute=function(){e.GameWorld.soundManager.mute(),o.updateMuteButtons()},o.gameworld=t,o.versionNo.visible=!1,o.updateMuteButtons(),o.helpButton.addEventListenerClick(o.gotoHelp),o.muteButton.addEventListenerClick(o.gotoMute),o.unmuteButton.addEventListenerClick(o.gotoMute),o}return _createClass(n,[{key:"enableHelp",value:function(t){this.helpButton.visible=t}},{key:"updateMuteButtons",value:function(){this.muteButton.visible=!e.GameWorld.soundManager.muted,this.unmuteButton.visible=e.GameWorld.soundManager.muted}}]),n}(t.assets.fla._Overlay);e.Overlay=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(){var t;return _classCallCheck(this,a),(t=e.call(this)).chance=25,t.speedMod=.75,t.type="paralyze",t.turnsLeft=Math.floor(3*Math.random())+1,t}return _createClass(a,[{key:"preAttack",value:function(){_get(_getPrototypeOf(a.prototype),"preAttack",this).call(this),100*Math.random()<=this.chance?this.triggered=!0:this.triggered=!1}},{key:"postAttack",value:function(){_get(_getPrototypeOf(a.prototype),"postAttack",this).call(this)}}]),a}(t.StatusEffect);t.Paralyze=e}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(){function a(n){_classCallCheck(this,a),this.currentPokemon=0,this.startBattlePokemon=0,this.currentBattle=0,this.currentMap=0,this.scene=n,this.pokemon=new Array,this.treasuresUnlocked=new Array,this.newGame();var i=t.util.SharedObject.getLocal("blackAndBlue");i.data.treasures&&(this.treasuresUnlocked=i.data.treasures),"true"==t.util.XMLParser.getAttribute(e.GameWorld.constants.getElementWithName("gamegenie"),"allTreasures")&&(this.unlockTreasure("freeMeVideo"),this.unlockTreasure("wallpaper"),this.unlockTreasure("tradingCards"))}return _createClass(a,[{key:"getNewestPokemon",value:function(){return this.pokemon[this.pokemon.length-1]}},{key:"getCurrentPokemon",value:function(){return this.pokemon[this.currentPokemon]}},{key:"getFirstPokemon",value:function(){return this.pokemon[0]}},{key:"newGame",value:function(){this.currentPokemon=0,this.currentBattle=0,this.currentMap=0,this.pokemon.splice(0),this.pokemon.push(new e.Pokemon(this.scene));var a=e.GameWorld.constants.getElementWithName("gamegenie");this.getNewestPokemon().loadInfo(t.util.XMLParser.getAttribute(a,"startingPokemon")),"true"==t.util.XMLParser.getAttribute(a,"allPokemon")&&(this.pokemon.push(new e.Pokemon(this.scene)),this.getNewestPokemon().loadInfo("tepig"),this.pokemon.push(new e.Pokemon(this.scene)),this.getNewestPokemon().loadInfo("snivy"),this.pokemon.push(new e.Pokemon(this.scene)),this.getNewestPokemon().loadInfo("oshawott"))}},{key:"continueFromGameOver",value:function(){this.currentPokemon=0;for(var t=0;t<this.pokemon.length;t++)this.pokemon[t].curHealth=this.pokemon[t].maxHealth,this.pokemon[t].restorePP()}},{key:"getPokemonWithType",value:function(t){var e,a=_createForOfIteratorHelper(this.pokemon);try{for(a.s();!(e=a.n()).done;){var n=e.value;if(n.id==t)return n}}catch(t){a.e(t)}finally{a.f()}return null}},{key:"unlockTreasure",value:function(e){var a,n=null,i=_createForOfIteratorHelper(this.treasuresUnlocked);try{for(i.s();!(a=i.n()).done;){if(a.value==e)return}}catch(t){i.e(t)}finally{i.f()}this.treasuresUnlocked.push(e),(n=t.util.SharedObject.getLocal("blackAndBlue")).data.treasures=this.treasuresUnlocked,n.flush()}},{key:"isTreasureUnlocked",value:function(t){var e,a=_createForOfIteratorHelper(this.treasuresUnlocked);try{for(a.s();!(e=a.n()).done;){if(e.value==t)return!0}}catch(t){a.e(t)}finally{a.f()}return!1}}]),a}();e.Player=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(e){_inherits(n,e);var a=_createSuper(n);function n(t){var e;return _classCallCheck(this,n),(e=a.call(this,t)).initializeView(),e}return _createClass(n,[{key:"initializeView",value:function(){var e=new t.code.HealthBar(this.scene);e.x=this.healthBar.x,e.y=this.healthBar.y,this.addAt(e,this.getIndex(this.healthBar)),this.remove(this.healthBar),this.healthBar=e}}]),n}(t.assets.fla._PlayerBattleInfo);e.PlayerBattleInfo=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(){var t;return _classCallCheck(this,a),(t=e.call(this)).percentHealth=.125,t.type="poison",t.turnsLeft=1,t.triggered=!0,t}return _createClass(a,[{key:"preAttack",value:function(){_get(_getPrototypeOf(a.prototype),"preAttack",this).call(this)}},{key:"postAttack",value:function(){}}]),a}(t.StatusEffect);t.Poison=e}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,a);var n=_createSuper(i);function i(t){return _classCallCheck(this,i),n.call(this,t)}return _createClass(i,[{key:"loadInfo",value:function(t){null!=t&&""!=t&&this.loadFromXML(e.GameWorld.constants.getPokemonWithID(t))}},{key:"loadFromXML",value:function(e){return _get(_getPrototypeOf(i.prototype),"loadFromXML",this).call(this,e),this.originalTrainerName=t.util.XMLParser.getAttribute(e,"originalTrainer"),this.description=t.util.XMLParser.getAttribute(e,"description").split("\\n").join("\n"),this.pokedexNumber=Number(t.util.XMLParser.getAttribute(e,"pokedexNumber")),this.species=t.util.XMLParser.getAttribute(e,"species"),this.statWeight=t.util.XMLParser.getAttribute(e,"weight"),this.statHeight=t.util.XMLParser.getAttribute(e,"height"),e}},{key:"_swap",value:function(t){_get(_getPrototypeOf(i.prototype),"_swap",this).call(this,t);var e=t;this.originalTrainerName=e.originalTrainerName,this.description=e.description,this.pokedexNumber=e.pokedexNumber,this.species=e.species}},{key:"restorePP",value:function(){var t,e=null,a=_createForOfIteratorHelper(this.moves);try{for(a.s();!(t=a.n()).done;)(e=t.value).curPP=e.maxPP}catch(t){a.e(t)}finally{a.f()}}},{key:"playFrame",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=t?(_get(_getPrototypeOf(i.prototype),"playFrame",this).call(this,t,e),this.animationClip.gotoAndPlay(t)):null!=e&&e()}},{key:"stopFrame",value:function(t){null!=t&&(_get(_getPrototypeOf(i.prototype),"stopFrame",this).call(this,t),this.animationClip.gotoAndStop(t))}},{key:"loadMovieClip",value:function(){_get(_getPrototypeOf(i.prototype),"loadMovieClip",this).call(this),"pikachu"==this.id?this.animationClip.x=20:"oshawott"==this.id?(this.animationClip.x=-15,this.animationClip.y=3):this.animationClip.x=0}}]),i}(t.code.Character);e.Pokemon=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t)).isEnabled=!1,n.elementType="normal",n.down=function(){n.gotoAndStop("mouseDown"),n.backgroundButtonGotoAndStop(n.elementType+"Down"),n.hoverImage.visible=!1},n.over=function(){n.gotoAndStop("mouseOver"),n.backgroundButtonGotoAndStop(n.elementType+"Over"),n.hoverImage.visible=!0},n.out=function(){n.gotoAndStop("mouseOut"),n.backgroundButtonGotoAndStop(n.elementType+"Out"),n.hoverImage.visible=!1},n.callback=null,n.hoverImage.scaleX=.98,n.tweenX=n.scene.tweens.add({targets:n.hoverImage,scaleX:1.01,duration:350,yoyo:!0}),n.hoverImage.scaleY=.98,n.tweenY=n.scene.tweens.add({targets:n.hoverImage,scaleX:1.01,duration:350,yoyo:!0}),n.gotoAndStop("disabled"),n.hoverImage.visible=!1,n}return _createClass(a,[{key:"setEnabled",value:function(t){t&&!this.isEnabled?(this.background.setInteractive({cursor:"pointer"}),this.background.on("pointerdown",this.down),this.background.on("pointerover",this.over),this.background.on("pointerout",this.out),this.out()):!t&&this.isEnabled&&(this.disableInteractive(),this.background.off("pointerdown",this.down),this.background.off("pointerover",this.over),this.background.off("pointerout",this.out)),t||(this.gotoAndStop("disabled"),1==this.positionNum||4==this.positionNum?this.backgroundButtonGotoAndStop("disabledTLBR"):2!=this.positionNum&&3!=this.positionNum||this.backgroundButtonGotoAndStop("disabledTRBL")),this.isEnabled=t}},{key:"setType",value:function(t){this.elementType=t,this.backgroundButtonGotoAndStop(this.elementType+"Out"),this.hoverImageGotoAndStop(this.elementType)}},{key:"setNumber",value:function(t){this.positionNum=t}},{key:"addEventListenerClick",value:function(t){this.callback||(this.callback=t,this.background.on("pointerup",this.callback))}},{key:"removeEventListenerClick",value:function(){this.callback&&(this.background.off("pointerup",this.callback),this.callback=null)}}]),a}(t.assets.fla._PokemonSelectButton);e.PokemonSelectButton=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(){function a(n){_classCallCheck(this,a),this.music=null,this.sounds=[],this.muted=!1,this.currentMusic="",this.scene=n,this.soundDictionary=new Object;var i=e.GameWorld.constants.getElementWithName("gamegenie");"true"==t.util.XMLParser.getAttribute(i,"mute")&&this.mute(),this.soundDictionary.MusicMain="MusicMain",this.soundDictionary.MusicBattle1="MusicBattle",this.soundDictionary.MusicBattle2="MusicBattle2",this.soundDictionary.MusicMap="MusicMap",this.soundDictionary.MusicWin="MusicWin",this.soundDictionary.buttonPress="SoundButtonPress",this.soundDictionary.buttonRollover="SoundButtonRollover",this.soundDictionary.chest="SoundChest",this.soundDictionary.chestAppear="SoundChestAppear",this.soundDictionary.dialog="SoundDialogReveal",this.soundDictionary.dialogReveal="SoundDialog",this.soundDictionary.dodge="SoundDodge",this.soundDictionary.error="SoundError",this.soundDictionary.statDown="SoundStatDown",this.soundDictionary.statUp="SoundStatUp",this.soundDictionary.switchPokemon="SoundSwitchPokemon",this.soundDictionary.trap="SoundTrap",this.soundDictionary.poison="SoundPoison"}return _createClass(a,[{key:"playMusic",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.currentMusic!=t&&(this.stopMusic(),this.music=this.scene.sound.add(this.soundDictionary[t]),this.music.loop=e,this.music.play(),this.music.setVolume(this.muted?0:1),this.currentMusic=t)}},{key:"stopMusic",value:function(){this.currentMusic="",this.music&&this.music.stop()}},{key:"mute",value:function(){this.muted?(this.muted=!1,this.music.setVolume(1),ga("send","event","Game","Audio On","Pokémon Black and Blue - Audio On")):(this.muted=!0,this.music.setVolume(0),ga("send","event","Game","Audio Off","Pokémon Black and Blue - Audio Off"))}},{key:"playSound",value:function(t){this.soundDictionary.hasOwnProperty(t)&&(t=this.soundDictionary[t]);var e=this.scene.sound.add(t);e.play(),this.muted?e.setVolume(0):"dialog"==t?e.setVolume(.15):e.setVolume(1),this.sounds.push(e)}},{key:"stopSound",value:function(){var t,e=_createForOfIteratorHelper(this.sounds);try{for(e.s();!(t=e.n()).done;){t.value.stop()}}catch(t){e.e(t)}finally{e.f()}}}]),a}();e.SoundManager=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(t){_inherits(a,t);var e=_createSuper(a);function a(t){var n;return _classCallCheck(this,a),(n=e.call(this,t)).initialArrowHeight=n.arrow.height,n}return _createClass(a,[{key:"_destroy",value:function(){}},{key:"appearFrom",value:function(t){this.y=t.y+t.speechOffset,this.arrow.scaleY=1,this.bubble.y=this.arrow.y+this.arrow.height*this.arrow.scaleY-4;var e=this.y+this.arrow.height*this.arrow.scaleY-410;this.arrow.alpha=1,e>this.arrow.height*this.arrow.scaleY+10?(this.arrow.alpha=0,this.y=406,this.arrow.y=0,this.arrow.scaleY=4/this.initialArrowHeight):(this.arrow.scaleY=(this.arrow.height-e)/this.initialArrowHeight,this.arrow.height*this.arrow.scaleY<20&&(this.arrow.alpha=0)),this.bubble.y=this.arrow.y+this.arrow.height*this.arrow.scaleY-4}}]),a}(t.assets.fla._SpeechBubble);e.SpeechBubble=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(t){_inherits(n,t);var a=_createSuper(n);function n(t,i,o){var s;_classCallCheck(this,n),(s=a.call(this,o)).gotoCancel=function(){s.cancelButton.removeEventListenerClick(s.gotoCancel),s.panelButton.off("pointerup",s.gotoCancel,_assertThisInitialized(s)),s.battleManager.closeStats()};s.battleManager=i,s.pokemonInfoText.text=e.GameWorld.constants.getOneLinerWithID("statsTitle"),s.dexNoText.text=e.GameWorld.constants.getOneLinerWithID("statsDexNo"),s.nameText.text=e.GameWorld.constants.getOneLinerWithID("statsName"),s.typeText.text=e.GameWorld.constants.getOneLinerWithID("statsType"),s.otText.text=e.GameWorld.constants.getOneLinerWithID("statsOriginalTrainer"),s.idNoText.text=e.GameWorld.constants.getOneLinerWithID("statsIDNo"),s.infoText.text=e.GameWorld.constants.getOneLinerWithID("statsInfo"),s.movesText.text=e.GameWorld.constants.getOneLinerWithID("statsMoves"),s.heightWeight.text=e.GameWorld.constants.getOneLinerWithID("height")+" "+t.statHeight+" "+e.GameWorld.constants.getOneLinerWithID("weight")+" "+t.statWeight,s.dexNoValue.text=""+t.pokedexNumber,s.nameValue.text=t.displayName,s.typeValue.text=t.elementType.substr(0,1).toUpperCase()+t.elementType.substr(1,t.elementType.length),s.otValue.text=t.originalTrainerName,s.idNoValue.text=t.species,s.infoValue.text=t.description,s.pokemonName.text=t.displayName,s.genderGotoAndStop(t.gender),s.pokemonName.x=s.pokemonName.x-(.5*s.gender.width+5),s.gender.x=s.pokemonName.x+.5*s.pokemonName.width+.5*s.pokemonName.width+.5*s.gender.width+5,s.pokemonGotoAndStop(t.id),s.typeValue.setColor("#"+e.GameWorld.constants.getColorForElement(t.elementType).toString(16)),s.movesValue.text="";var r,l=_createForOfIteratorHelper(t.moves);try{for(l.s();!(r=l.n()).done;){var c=r.value;s.movesValue.text=s.movesValue.text+c.displayName+"\n"}}catch(t){l.e(t)}finally{l.f()}return s.cancelButton.addEventListenerClick(s.gotoCancel),s.panelButton.setInteractive({cursor:"pointer"}),s.panelButton.on("pointerup",s.gotoCancel,_assertThisInitialized(s)),s.bg.setInteractive({cursor:"pointer"}),s}return _createClass(n,[{key:"cancelPressed",value:function(){}},{key:"cancelReleased",value:function(){this.gotoCancel()}}]),n}(t.assets.fla._Stats);e.Stats=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,a);var n=_createSuper(i);function i(t){var e;return _classCallCheck(this,i),(e=n.call(this,t)).dropsPokemon=null,e}return _createClass(i,[{key:"loadInfo",value:function(t){this.loadFromXML(e.GameWorld.constants.getTrainerWithID(t))}},{key:"loadFromXML",value:function(e){_get(_getPrototypeOf(i.prototype),"loadFromXML",this).call(this,e);var a=t.util.XMLParser.getAttribute(e,"pokemonID");return isEmpty(a)||(this.dropsPokemon=a),this.animationFrames.defeat=t.util.XMLParser.getAttribute(e,"defeatFrame"),e}},{key:"playFrame",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=t?(_get(_getPrototypeOf(i.prototype),"playFrame",this).call(this,t,e),this.animationClip.getChildByName(this.id),this.animationClip.gotoAndPlay(t)):null!=e&&e()}},{key:"stopFrame",value:function(t){null!=t&&(_get(_getPrototypeOf(i.prototype),"stopFrame",this).call(this,t),this.animationClip.getChildByName(this.id),this.animationClip.gotoAndStop(t))}}]),i}(t.code.Character);e.Trainer=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Container);var a=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=a.call(this,e)).colorCallback=null,i.colorTime=10,i.colorTimer=10,i.isAddedEventListener_ENTER_FRAME=!1,i.animationClip=new t.assets.swf._AnimationTransitionSWF(i.scene),i.add(i.animationClip),i.x=100,i.y=285,i.visible=!1,i}return _createClass(n,[{key:"playTransition",value:function(){this.visible=!0,this.animationClip.gotoAndPlay()}},{key:"fadeIn",value:function(t,e){this.fade(1,0,t,e)}},{key:"fadeOut",value:function(t,e){this.fade(0,1,t,e)}},{key:"fade",value:function(t,e,a,n){this.visible=!0,this.finalColor=e,this.colorTimer=this.colorTime,this.colorCallback=n,this.colorMovieClip=a,this.isAddedEventListener_ENTER_FRAME=!0}},{key:"_update",value:function(){if(this.isAddedEventListener_ENTER_FRAME){this.colorTimer--;var t=this.colorTimer/this.colorTime;1==this.finalColor&&(t=1-t),this.colorMovieClip.tint=Math.floor(16777215*t),this.colorTimer<=0&&(this.isAddedEventListener_ENTER_FRAME=!1,this.colorCallback())}}}]),n}();e.TransitionEffect=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(t){_inherits(a,t);var e=_createSuper(a);function a(){var t;return _classCallCheck(this,a),(t=e.call(this)).percentHealth=.125,t.type="trap",t.turnsLeft=Math.floor(3*Math.random())+2,t.triggered=!0,t}return _createClass(a,[{key:"preAttack",value:function(){_get(_getPrototypeOf(a.prototype),"preAttack",this).call(this)}},{key:"postAttack",value:function(){_get(_getPrototypeOf(a.prototype),"postAttack",this).call(this)}}]),a}(t.StatusEffect);t.Trap=e}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,Phaser.GameObjects.Container);var n=_createSuper(i);function i(){var e,a=arguments.length>1?arguments[1]:void 0;return _classCallCheck(this,i),(e=n.call(this,a)).animationClip=new t.assets.swf._TreasureboxSWF(e.scene).treasurebox,e.animationClip.x=0,e.animationClip.y=0,e.getTreasureMC().play("show"),e.add(e.animationClip),e}return _createClass(i,[{key:"_destroy",value:function(){}},{key:"_setScale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;isNaN(e)&&(e=t),this.animationClip.scaleX=t,this.animationClip.scaleY=e}},{key:"showTreasure",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&e.GameWorld.soundManager.playSound("chestAppear"),this.getTreasureMC().play("show")}},{key:"openTreasure",value:function(){e.GameWorld.soundManager.playSound("chest"),this.getTreasureMC().play("open")}},{key:"getTreasureMC",value:function(){return this.animationClip}},{key:"hideTreasure",value:function(){this.tween=this.scene.tweens.add({targets:this,alpha:0,duration:500})}}]),i}();e.Treasure=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(pbawp){var code;(function(code){var TreasureButton=function(_pbawp$assets$fla$_Tr){_inherits(TreasureButton,_pbawp$assets$fla$_Tr);var _super72=_createSuper(TreasureButton);function TreasureButton(scene){var _this68;return _classCallCheck(this,TreasureButton),_this68=_super72.call(this,scene),_this68.isEnabled=!1,_this68.treasureID="",_this68.over=function(){code.GameWorld.soundManager.playSound("buttonRollover"),_this68.resetDownloadButton(),_this68.hoverImage.alpha=1},_this68.out=function(){_this68.resetDownloadButton(),_this68.hoverImage.alpha=0},_this68.down=function(){code.GameWorld.soundManager.playSound("buttonPress")},_this68.gotoDownload=function(){/*!GameWorld.soundManager.muted &&*/_this68.treasureID;var jscommand="window.open('"+_this68.treasureLink+"','win','height=550,width=550,toolbar=no,scrollba rs=yes');";setupPopUpWindowAnalytics(eval(jscommand))},_this68.delayOpenTimerDone=function(){_this68.delayTimer.remove(),_this68.swf.openTreasure(),_this68.setEnabled(!0)},_this68.hoverImage.scaleX=1,_this68.tweenX=_this68.scene.tweens.add({targets:_this68.hoverImage,scaleX:1.1,duration:350,yoyo:!0}),_this68.hoverImage.scaleY=1,_this68.tweenY=_this68.scene.tweens.add({targets:_this68.hoverImage,scaleY:1.1,duration:350,yoyo:!0}),_this68.hoverImage.alpha=0,_this68.setEnabled(!1),code.GameWorld.constants.setText(_this68.downloadButton,code.GameWorld.constants.getOneLinerWithID("download")),_this68}return _createClass(TreasureButton,[{key:"loadTreasureSWF",value:function(t){this.swf=new code.Treasure(t,this.scene),this.swf._setScale(1),this.add(this.swf),this.swf.showTreasure(!1),this.swf.x=this.swf.x-125,this.swf.y=this.swf.y-130}},{key:"stopInput",value:function(){this.downloadButton.removeEventListener_MOUSE_OVER(this.over),this.downloadButton.removeEventListener_MOUSE_OUT(this.out)}},{key:"_destroy",value:function(){this.swf._destroy()}},{key:"setEnabled",value:function(t){this.isEnabled&&!t?this._destroy():!this.isEnabled&&t&&(this.downloadButton.addEventListener_MOUSE_OVER(this.over),this.downloadButton.addEventListener_MOUSE_OUT(this.out),this.downloadButton.addEventListener_MOUSE_DOWN(this.down),this.downloadButton.addEventListenerClick(this.gotoDownload)),this.downloadButton.visible=t,this.isEnabled=t}},{key:"resetDownloadButton",value:function(){}},{key:"playOpenAnimation",value:function(t){this.delayTimer=this.scene.time.addEvent({delay:t,callback:this.delayOpenTimerDone,callbackScope:this,loop:!0})}}]),TreasureButton}(pbawp.assets.fla._TreasureButton);code.TreasureButton=TreasureButton})(code=pbawp.code||(pbawp.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,a);var n=_createSuper(i);function i(t,a){var o;_classCallCheck(this,i),(o=n.call(this,t,a)).gotoBack=function(){o.gameworld._setState(o.gameworld.prevState,.3)},o.treasureArray=new Array,o.treasureIDs=new Array("freeMeVideo","wallpaper","tradingCards"),o.initializeView(),e.GameWorld.constants.setText(o.backButton,e.GameWorld.constants.getOneLinerWithID("backButton")),o.treasureText.text=e.GameWorld.constants.getOneLinerWithID("treasure"),o.freeMeVideoText.text=e.GameWorld.constants.getOneLinerWithID(o.gameworld.player.isTreasureUnlocked(o.treasureIDs[0])?"treasure1":"treasureUnknown"),o.wallpaperText.text=e.GameWorld.constants.getOneLinerWithID(o.gameworld.player.isTreasureUnlocked(o.treasureIDs[1])?"treasure2":"treasureUnknown"),o.tradingCardsText.text=e.GameWorld.constants.getOneLinerWithID(o.gameworld.player.isTreasureUnlocked(o.treasureIDs[2])?"treasure3":"treasureUnknown"),0==o.gameworld.player.treasuresUnlocked.length?o.unlockedText.text=e.GameWorld.constants.getOneLinerWithID("noTreasureUnlocked"):o.unlockedText.text=e.GameWorld.constants.getOneLinerWithID("treasureUnlocked").replace("%currentTreasures%",String(o.gameworld.player.treasuresUnlocked.length)),o.treasureArray.push(o.treasureButton1),o.treasureArray.push(o.treasureButton2),o.treasureArray.push(o.treasureButton3);for(var s=250,r=0;r<o.treasureArray.length;r++)o.treasureArray[r].loadTreasureSWF("treasure"+(r+1)),o.gameworld.player.isTreasureUnlocked(o.treasureIDs[r])&&(o.treasureArray[r].playOpenAnimation(s),s+=250),o.treasureArray[r].treasureLink=e.GameWorld.constants.getTreasureLink(o.treasureIDs[r]),o.treasureArray[r].treasureID=o.treasureIDs[r];return o.backButton.addEventListenerClick(o.gotoBack),o}return _createClass(i,[{key:"initializeView",value:function(){this.view=new t.assets.fla._TreasureScreen(this.scene),this.add(this.view),this.freeMeVideoText=this.view.freeMeVideoText,this.backButton=this.view.backButton,this.tradingCardsText=this.view.tradingCardsText,this.treasureButton1=new e.TreasureButton(this.scene),this.treasureButton1.x=this.view.treasureButton1.x,this.treasureButton1.y=this.view.treasureButton1.y,this.view.addAt(this.treasureButton1,this.view.getIndex(this.view.treasureButton1)),this.view.remove(this.view.treasureButton1),this.view.treasureButton1=this.treasureButton1,this.treasureButton2=new e.TreasureButton(this.scene),this.treasureButton2.x=this.view.treasureButton2.x,this.treasureButton2.y=this.view.treasureButton2.y,this.view.addAt(this.treasureButton2,this.view.getIndex(this.view.treasureButton2)),this.view.remove(this.view.treasureButton2),this.view.treasureButton2=this.treasureButton2,this.unlockedText=this.view.unlockedText,this.treasureButton3=new e.TreasureButton(this.scene),this.treasureButton3.x=this.view.treasureButton3.x,this.treasureButton3.y=this.view.treasureButton3.y,this.view.addAt(this.treasureButton3,this.view.getIndex(this.view.treasureButton3)),this.view.remove(this.view.treasureButton3),this.view.treasureButton3=this.treasureButton3,this.wallpaperText=this.view.wallpaperText,this.treasureText=this.view.treasureText}},{key:"stopInput",value:function(){this.backButton.removeEventListenerClick(this.gotoBack);var t,e=_createForOfIteratorHelper(this.treasureArray);try{for(e.s();!(t=e.n()).done;){t.value.stopInput()}}catch(t){e.e(t)}finally{e.f()}}},{key:"_destroy",value:function(){var t,e=_createForOfIteratorHelper(this.treasureArray);try{for(e.s();!(t=e.n()).done;){t.value._destroy()}}catch(t){e.e(t)}finally{e.f()}}}]),i}(e.Screen);e.TreasureScreen=a}(t.code||(t.code={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(e){_inherits(n,Phaser.Scene);var a=_createSuper(n);function n(){return _classCallCheck(this,n),a.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){game.input.mouse.enabled=!game.device.input.touch}},{key:"create",value:function(){game.scene.remove("Boot"),game.scene.add("Preloader",t.scene.Preloader,!0)}}]),n}();e.Boot=a}(t.scene||(t.scene={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=t.assets.fla._Preloader,n=function(e){_inherits(i,Phaser.Scene);var n=_createSuper(i);function i(){return _classCallCheck(this,i),n.apply(this,arguments)}return _createClass(i,[{key:"preload",value:function(){this.load.atlas("preloader-atlas","https://cdn.jsdelivr.net/gh/classroom-googl/pok@main/assets/imgs/atlas/preloader-atlas.png","assets/imgs/atlas/preloader-atlas.json"),ga("send","event","Game","Load","Pokémon Black and Blue - Load")}},{key:"create",value:function(){var t=this,e=new a(this);this.children.add(e),this.load.pack("preloader","https://cdn.jsdelivr.net/gh/classroom-googl/pok@main/assets/pack.json"),this.load.on("progress",(function(t){e.bar.scaleX=t}),this),this.load.on("complete",(function(){t.nextScene()})),this.load.start()}},{key:"nextScene",value:function(){game.scene.remove("Preloader"),game.scene.add("ScreenMain",t.scene.ScreenMain,!0)}}]),i}();e.Preloader=n}(t.scene||(t.scene={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(e){_inherits(n,Phaser.Scene);var a=_createSuper(n);function n(){return _classCallCheck(this,n),a.apply(this,arguments)}return _createClass(n,[{key:"test",value:function(){var e=new t.assets.swf._WinSWF(this);this.children.add(e);var a=new t.assets.swf._TreasureboxSWF(this);this.children.add(a),a.gotoAndStop("show");var n=new t.assets.swf._TopdownSWF(this).getChildByName("snorlaxFall");n.setPosition(100,200),this.children.add(n);var i=new t.assets.swf._AnimationTransitionSWF(this);i.gotoAndPlay(),i.setPosition(100,200),this.children.add(i);var o=new t.assets.swf.character._Animation_asset_cherenSWF(this);o.gotoAndPlay("normal"),o.setPosition(0,0),this.children.add(o);var s=new t.assets.fla._Preloader(this);this.children.add(s);var r=new t.assets.fla._Stats(this);this.children.add(r),window._st=r;var l=new t.assets.fla._MenuMain(this);this.children.add(l),window._mm=l;var c=new t.assets.fla._TreasureScreen(this);this.children.add(c),window._ts=c;var u=new t.assets.fla._Overlay(this);this.children.add(u),window._ov=u;var h=new t.assets.fla._Intro(this);this.children.add(h),window._it=h;var d=new t.assets.fla._PlayerBattleInfo(this);d.setPosition(200,200),this.children.add(d),window._pb=d;var p=new t.assets.fla._Credits(this);this.children.add(p),window._cd=p;var f=new t.assets.fla._GameAlmostWin(this);this.children.add(f),window._gw=f;var g=new t.assets.fla._SpeechBubble(this);this.children.add(g),window._sb=g;var m=new t.assets.fla._GameWin(this);this.children.add(m),window._gwi=m;var k=new t.assets.fla._GameOver(this);this.children.add(k),window._gov=k;var v=new t.assets.fla._AttackButton(this);v.setPosition(200,200),this.children.add(v),window._ab=v;var y=new t.assets.fla._PokemonSelectButton(this);y.setPosition(300,200),this.children.add(y),window._psb=y;var B=new t.assets.fla._Help(this);this.children.add(B),window._hlp=B;var w=new t.assets.fla._Map(this);this.children.add(w),window._map=w;var b=new t.assets.fla._BattleManager(this);this.children.add(b),window._bm=b}},{key:"create",value:function(){this.gameWorld=new t.code.GameWorld(this),this.children.add(this.gameWorld),this.gameWorld.init()}},{key:"update",value:function(){this.gameWorld._update()}}]),n}();e.ScreenMain=a}(t.scene||(t.scene={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(e){_inherits(n,Phaser.GameObjects.Image);var a=_createSuper(n);function n(e,i,o,s,r,l,c){var u;return _classCallCheck(this,n),(u=a.call(this,e,i,o,s,r)).setInteractive({cursor:"pointer"}),u.on("pointerdown",(function(){return u.setFrame(c)}),_assertThisInitialized(u)),u.on("pointerup",(function(){u.setFrame(r),t.code.GameWorld.soundManager.playSound("SoundButtonPress")}),_assertThisInitialized(u)),u.on("pointerover",(function(){u.setFrame(l),t.code.GameWorld.soundManager.playSound("SoundButtonRollover")}),_assertThisInitialized(u)),u.on("pointerout",(function(){return u.setFrame(r)}),_assertThisInitialized(u)),u}return _createClass(n,[{key:"addEventListenerClick",value:function(t){this.on("pointerup",t)}},{key:"removeEventListenerClick",value:function(t){this.off("pointerup",t)}}]),n}();e.BasicButton=a}(t.util||(t.util={}))}(pbawp||(pbawp={})),function(t){!function(e){var a=function(a){_inherits(i,Phaser.GameObjects.Container);var n=_createSuper(i);function i(a,o,s,r,l){var c;return _classCallCheck(this,i),(c=n.call(this,a,o,s)).btn=new e.BasicButton(c.scene,0,0,"ui-atlas","basicLabeledButton0000","basicLabeledButton0001","basicLabeledButton0002"),c.add(c.btn),c.textLabel=c.scene.add.text(0,0,l,{fontFamily:"Agency FB",fontSize:22,color:"#FFFFFF",align:"center"}),c.textLabel.setOrigin(.5,.5),c.add(c.textLabel),c.btn.on("pointerup",(function(){c.textLabel.setColor("#FFFFFF"),t.code.GameWorld.soundManager.playSound("SoundButtonPress")}),_assertThisInitialized(c)),c.btn.on("pointerover",(function(){c.textLabel.setColor("#FFFFFF"),t.code.GameWorld.soundManager.playSound("SoundButtonRollover")}),_assertThisInitialized(c)),c.btn.on("pointerdown",(function(){return c.textLabel.setColor("#000000")}),_assertThisInitialized(c)),c.btn.on("pointerout",(function(){return c.textLabel.setColor("#FFFFFF")}),_assertThisInitialized(c)),c}return _createClass(i,[{key:"addEventListenerClick",value:function(t){this.btn.on("pointerup",t)}},{key:"removeEventListenerClick",value:function(t){this.btn.off("pointerup",t)}},{key:"addEventListener_MOUSE_OVER",value:function(t){this.btn.on("pointerover",t)}},{key:"removeEventListener_MOUSE_OVER",value:function(t){this.btn.off("pointerover",t)}},{key:"addEventListener_MOUSE_OUT",value:function(t){this.btn.on("pointerout",t)}},{key:"removeEventListener_MOUSE_OUT",value:function(t){this.btn.off("pointerout",t)}},{key:"addEventListener_MOUSE_DOWN",value:function(t){this.btn.on("pointerdown",t)}},{key:"removeEventListener_MOUSE_DOWN",value:function(t){this.btn.off("pointerdown",t)}}]),i}();e.BasicLabeledButton=a}(t.util||(t.util={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(){function t(e){_classCallCheck(this,t),this.isLocalStorageSupported=!1,this.data=null,this.name=e,this.data={},this.checkLocalStorageSupported(),this.createOrLoad()}return _createClass(t,[{key:"flush",value:function(){this.isLocalStorageSupported&&(localStorage[this.name]=JSON.stringify(this.data))}},{key:"createOrLoad",value:function(){this.isLocalStorageSupported&&(localStorage[this.name]?this.data=JSON.parse(localStorage[this.name]):this.flush())}},{key:"checkLocalStorageSupported",value:function(){try{this.isLocalStorageSupported="localStorage"in window&&null!==window.localStorage}catch(t){this.isLocalStorageSupported=!1}}}],[{key:"getLocal",value:function(e){return t.instances.hasOwnProperty(e)||(t.instances[e]=new t(e)),t.instances[e]}}]),t}();e.instances={},t.SharedObject=e}(t.util||(t.util={}))}(pbawp||(pbawp={})),function(t){!function(t){var e=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"toXMLDoc",value:function(t){var e;window.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t));return e}},{key:"toXMLElement",value:function(e){var a=t.toXMLDoc(e);return a.children.length>0?a.children[0]:null}},{key:"getAttribute",value:function(e,a){return!e.getAttribute&&e.length&&e.length>=1?t.getAttribute(e[0],a):e.getAttribute(a)}},{key:"getChildNode",value:function(e,a){return e.getElementsByTagName?e.getElementsByTagName(a):e.length&&e.length>=1?t.getChildNode(e[0],a):null}}]),t}();t.XMLParser=e}(t.util||(t.util={}))}(pbawp||(pbawp={}));